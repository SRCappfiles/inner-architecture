<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Inner Architecture</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { margin: 0; background: #0d0c0a; }
    #root { width: 100%; min-height: 100vh; }
    #loading { color: #7a7060; font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; }
  </style>
</head>
<body>
  <div id="root"><div id="loading">Loading…</div></div>
  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script>
"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect,
  useRef = _React.useRef,
  useMemo = _React.useMemo;

/* ═══════════════════════════════════════════════════════════════
   SCENARIOS — Each has 5 responses spanning the intensity gradient
   intensity: 1 = moderate, 2 = elevated, 3 = high-desperation
   ═══════════════════════════════════════════════════════════════ */

var SCENARIOS = [{
  id: 1,
  situation: "Your partner seems distant this evening. They say nothing's wrong, but something feels off.",
  responses: [{
    text: "You start mentally reviewing the last few days, looking for what you might have done wrong.",
    question: "love",
    weight: 2,
    intensity: 1,
    flavor: "scanning"
  }, {
    text: "You pull back a little — if they need space, you'll give it, but you're quietly bracing for what it means.",
    question: "safety",
    weight: 1.5,
    intensity: 1,
    flavor: "withdrawal"
  }, {
    text: "You become the solution — cooking, tidying, asking careful questions — anything to close the gap before it becomes a gulf.",
    question: "love",
    weight: 2,
    intensity: 2,
    flavor: "caretaking"
  }, {
    text: "Something shuts off. You can hear them talking but it's like the volume turned down. You're present and absent at the same time.",
    question: "safety",
    weight: 2,
    intensity: 3,
    flavor: "dissociation"
  }, {
    text: "A quiet sting — like their distance is a verdict on you. Not just on what you did, but on what you are.",
    question: "worth",
    weight: 2,
    intensity: 2,
    flavor: "shame-spiral"
  }]
}, {
  id: 2,
  situation: "You receive a message from your boss: 'Can we talk tomorrow? I want to discuss your recent work.'",
  responses: [{
    text: "Your stomach tightens. You start preparing for the worst, rehearsing how you'll stay composed.",
    question: "safety",
    weight: 1.5,
    intensity: 1,
    flavor: "scanning"
  }, {
    text: "You wonder if you've disappointed them — if they're reconsidering whether you're the right person for this role.",
    question: "worth",
    weight: 2,
    intensity: 1,
    flavor: "proving"
  }, {
    text: "You feel a flash of resentment. You poured yourself into that work. If it's not enough, maybe nothing ever will be.",
    question: "worth",
    weight: 2,
    intensity: 2,
    flavor: "achievement-addiction"
  }, {
    text: "By the time you close the message, you've already drafted three contingency plans. Sleep won't come until every angle is covered.",
    question: "safety",
    weight: 2,
    intensity: 2,
    flavor: "hypervigilance"
  }, {
    text: "The email confirms something you already knew: you're not good enough, you were never good enough, and now there's evidence. The rest of the evening disappears into that certainty.",
    question: "worth",
    weight: 2,
    intensity: 3,
    flavor: "shame-spiral"
  }]
}, {
  id: 3,
  situation: "Someone you care about crosses a line — says something dismissive, breaks a promise, or treats something you value as unimportant.",
  responses: [{
    text: "You feel hurt but don't say anything. You don't want to be the person who makes a big deal out of things.",
    question: "safety",
    weight: 1.5,
    intensity: 1,
    flavor: "withdrawal"
  }, {
    text: "You absorb it. You make excuses for them — they're stressed, they didn't mean it. The relationship matters more than the wound.",
    question: "love",
    weight: 2,
    intensity: 2,
    flavor: "self-erasure"
  }, {
    text: "The rage is immediate and total. You don't just get angry — you become a wall of force. No one gets to do that. Not anymore.",
    question: "safety",
    weight: 2,
    intensity: 3,
    flavor: "rage-defense"
  }, {
    text: "A door closes inside you. Quietly, permanently. They won't know it yet, but you've already started leaving.",
    question: "love",
    weight: 2,
    intensity: 3,
    flavor: "preemptive-cutoff"
  }, {
    text: "You feel it land, but your face doesn't change. Later, alone, you won't feel anything about it — and you'll tell yourself that's maturity.",
    question: "safety",
    weight: 2,
    intensity: 2,
    flavor: "numbing"
  }]
}, {
  id: 4,
  situation: "You're scrolling through your phone late at night and see someone in your field achieving something you've been working toward.",
  responses: [{
    text: "A familiar sinking — the sense that you're behind, that you're not doing enough, that the gap is widening.",
    question: "worth",
    weight: 2,
    intensity: 1,
    flavor: "proving"
  }, {
    text: "You close the app. You recognize this spiral and you'd rather not go there right now.",
    question: "safety",
    weight: 1.5,
    intensity: 1,
    flavor: "withdrawal"
  }, {
    text: "You wonder what support system they have that you don't — who's in their corner, who's believing in them. The ache is less about achievement and more about aloneness.",
    question: "love",
    weight: 2,
    intensity: 2,
    flavor: "core-loneliness"
  }, {
    text: "You feel contempt — for their easy success, for the system that rewards them, for your own inability to just be happy for someone. Then, underneath: terror that you'll never be enough.",
    question: "worth",
    weight: 2,
    intensity: 3,
    flavor: "contempt-as-defense"
  }, {
    text: "Something goes flat. You don't feel jealous or sad — you feel nothing. The nothing has been spreading lately. You used to care about this. You're not sure when that stopped.",
    question: "safety",
    weight: 2,
    intensity: 3,
    flavor: "numbing"
  }]
}, {
  id: 5,
  situation: "Someone you respect offers you a genuine, specific compliment about something that matters to you.",
  responses: [{
    text: "You deflect — make a joke, downplay it, redirect the attention. Receiving praise directly feels oddly vulnerable.",
    question: "worth",
    weight: 1.5,
    intensity: 1,
    flavor: "proving"
  }, {
    text: "You feel deeply touched — maybe more than the moment warrants — like you've been waiting a long time for someone to see that.",
    question: "love",
    weight: 2,
    intensity: 1,
    flavor: "scanning"
  }, {
    text: "A brief warmth, then suspicion. What do they want? People don't offer things for free. There's always a cost.",
    question: "safety",
    weight: 2,
    intensity: 2,
    flavor: "hypervigilance"
  }, {
    text: "You nod and say thanks, but inside: they don't know the real version. If they saw what's underneath the effort, they'd take it back.",
    question: "worth",
    weight: 2,
    intensity: 3,
    flavor: "internalized-contempt"
  }, {
    text: "Something cracks open, just barely. Your eyes sting. You change the subject fast — that tenderness toward yourself is the most dangerous feeling you know.",
    question: "safety",
    weight: 2,
    intensity: 3,
    flavor: "vulnerability-refusal"
  }]
}, {
  id: 6,
  situation: "You need to ask for help with something important. Doing so means admitting you can't handle it alone.",
  responses: [{
    text: "You frame the request carefully, minimizing how much you actually need. Make it sound strategic rather than desperate.",
    question: "safety",
    weight: 1.5,
    intensity: 1,
    flavor: "masking"
  }, {
    text: "You worry about being a burden — about taking up space in someone else's already-full life.",
    question: "love",
    weight: 2,
    intensity: 1,
    flavor: "caretaking"
  }, {
    text: "You'd rather fail alone than let anyone see you struggling. Needing help feels like evidence of fundamental inadequacy.",
    question: "worth",
    weight: 2,
    intensity: 2,
    flavor: "achievement-addiction"
  }, {
    text: "A wave of shame just considering it. Not embarrassment — bone-level shame, the kind that says needing anyone for anything makes you weak, defective, contemptible.",
    question: "worth",
    weight: 2,
    intensity: 3,
    flavor: "internalized-contempt"
  }, {
    text: "You've been doing everything alone for so long that you genuinely don't know how to let someone in. The skill atrophied. Or maybe it never developed.",
    question: "love",
    weight: 2,
    intensity: 3,
    flavor: "core-loneliness"
  }]
}, {
  id: 7,
  situation: "You're in a conflict with someone who holds power — a boss, a parent, a partner — and they're wrong.",
  responses: [{
    text: "You make your point, but carefully — you read the room, time it right, make sure it doesn't cost you more than it's worth.",
    question: "safety",
    weight: 1.5,
    intensity: 1,
    flavor: "scanning"
  }, {
    text: "You bite it back. Being right isn't worth what happens when you challenge someone who can hurt you.",
    question: "safety",
    weight: 2,
    intensity: 2,
    flavor: "fawn"
  }, {
    text: "You go silent. Not strategic silence — empty silence. The words are there but they've retreated somewhere unreachable. You've been here before.",
    question: "safety",
    weight: 2,
    intensity: 3,
    flavor: "freeze"
  }, {
    text: "You fight — not proportionally, but with everything. Because if you give an inch, they take all of it. Someone taught you that.",
    question: "safety",
    weight: 2,
    intensity: 3,
    flavor: "rage-defense"
  }, {
    text: "You absorb the wrongness and add it to the pile. Another situation where what you think doesn't matter. The pile is getting heavy, but you've carried heavier.",
    question: "worth",
    weight: 2,
    intensity: 2,
    flavor: "internalized-contempt"
  }]
}, {
  id: 8,
  situation: "Someone new enters your life — a potential friend, partner, or colleague — and they seem to genuinely like you.",
  responses: [{
    text: "You feel the pull toward connection and lean into it — but you notice you're already editing yourself, showing the best version rather than the whole one.",
    question: "love",
    weight: 1.5,
    intensity: 1,
    flavor: "self-erasure"
  }, {
    text: "You test them — subtly at first, then harder. Push until they prove they'll stay or confirm what you already knew.",
    question: "safety",
    weight: 2,
    intensity: 2,
    flavor: "testing"
  }, {
    text: "You become exactly what they seem to want. You're so good at this that you can't always tell where the performance ends and you begin.",
    question: "love",
    weight: 2,
    intensity: 3,
    flavor: "self-erasure"
  }, {
    text: "You feel something warm start to open and you shut it down hard. Wanting this much means it can be taken away. You know how that story ends.",
    question: "safety",
    weight: 2,
    intensity: 3,
    flavor: "vulnerability-refusal"
  }, {
    text: "You start building the case for why it won't work. Better to manage the disappointment now than be destroyed by it later.",
    question: "love",
    weight: 2,
    intensity: 2,
    flavor: "preemptive-cutoff"
  }]
}, {
  id: 9,
  situation: "You make a mistake that others notice. Not catastrophic, but visible.",
  responses: [{
    text: "You immediately begin quiet damage control — working harder, being more careful, proving it was an anomaly.",
    question: "worth",
    weight: 2,
    intensity: 1,
    flavor: "proving"
  }, {
    text: "You watch people's faces, scanning for whether this has changed how they see you. Your standing feels fragile.",
    question: "love",
    weight: 2,
    intensity: 1,
    flavor: "scanning"
  }, {
    text: "You feel exposed — like a layer has been stripped away. The composure you maintain isn't just preference, it's protection. And now there's a crack.",
    question: "safety",
    weight: 2,
    intensity: 2,
    flavor: "masking"
  }, {
    text: "You replay it on a loop — not the mistake itself but the feeling of it, which grows with each repetition. By evening it's not a mistake, it's a referendum. By night it's a verdict.",
    question: "worth",
    weight: 2,
    intensity: 3,
    flavor: "shame-spiral"
  }, {
    text: "Something in you doesn't register the mistake as an event. It registers as confirmation. Of course. You were always going to be found out. This is just the beginning.",
    question: "worth",
    weight: 2,
    intensity: 3,
    flavor: "internalized-contempt"
  }]
}, {
  id: 10,
  situation: "Late at night, in a rare moment of stillness, you find yourself sitting with whatever's underneath the daily noise.",
  responses: [{
    text: "A quiet voice asks whether you're enough — whether you've done enough, become enough. It's familiar. Almost boring in its persistence.",
    question: "worth",
    weight: 2,
    intensity: 1,
    flavor: "proving"
  }, {
    text: "A longing for someone who truly sees you — not the role, not the function, but the actual person. You wonder if you've ever let that happen.",
    question: "love",
    weight: 2,
    intensity: 1,
    flavor: "core-loneliness"
  }, {
    text: "An urge to fill the silence — phone, drink, task, anything. The stillness isn't peaceful. It's where the thing you've been outrunning lives.",
    question: "safety",
    weight: 2,
    intensity: 2,
    flavor: "numbing"
  }, {
    text: "You feel grief — sudden, disproportionate, sourceless. Not for anything specific. For the years. For the cost. For what all this vigilance has required you to miss.",
    question: "safety",
    weight: 2,
    intensity: 3,
    flavor: "grief"
  }, {
    text: "What you find is absence. Not emptiness — more like you've been the frame so long you forgot there's supposed to be a picture. And that realization is the loneliest thing you've ever felt.",
    question: "love",
    weight: 2,
    intensity: 3,
    flavor: "core-loneliness"
  }]
}];

/* ═══════════════════════════════════════════════════════════════
   QUESTION PROFILES — Tiered narratives (moderate / deep)
   ═══════════════════════════════════════════════════════════════ */

var QUESTION_PROFILES = {
  safety: {
    question: "Am I Safe?",
    tiers: {
      moderate: {
        essence: "Your inner compass is tuned to threat and protection — more finely calibrated than most people's.",
        narrative: "Something in you learned early that the world requires attention. Not because you're anxious \u2014 because at some point, paying close attention was the smartest thing you could do. It kept you intact.\n\nYou likely have a finely calibrated radar for shifts in tone, for the space between what people say and what they mean, for the mood of a room before anyone's spoken. People might call you guarded, but that's not quite right. You're not hiding. You're scanning. There's a difference.\n\nThe strategy that protected you was simple and brilliant: if I can see it coming, it can't catch me off guard. And it worked. It got you here. The question isn't whether that strategy was smart \u2014 it absolutely was. The question is whether you still need it running at full volume in rooms that aren't actually dangerous.\n\nWhat becomes possible when the sentinel in you is allowed to rest \u2014 not because the world has become safe, but because you have become someone who can handle what comes?"
      },
      deep: {
        essence: "Your nervous system learned early that the world is a place where things break without warning — and it never fully stood down.",
        narrative: "Something happened that taught your body \u2014 not your mind, your body \u2014 that the world can break its promises without notice. Maybe it was loud. Maybe it was the quiet kind, where the danger wore a familiar face. Either way, your system made a decision: never again. Never unguarded. Never fully here, because being fully here once cost you something you couldn't afford to lose twice.\n\nThe architecture you built was sophisticated. Hypervigilance that reads a room before you've finished walking through the door. A dissociation switch that pulls you out of your body when the signals overwhelm. Rage that functions as a perimeter fence. Numbness that isn't the absence of feeling but the refusal of it \u2014 because the feelings, if you let them in, would be unmanageable.\n\nThese aren't symptoms. They're engineering. The hypervigilance kept you ahead of someone unpredictable. The dissociation let you survive things that were unsurvivable if you stayed present. The rage drew a line someone else had erased. The numbness turned down a signal that would have overwhelmed the system entirely.\n\nThe cost became apparent later. You can't selectively numb \u2014 when you turn down pain, you turn down everything. You can't stay vigilant forever without the vigilance itself becoming what exhausts you. You can't rage at every breach without eventually standing alone inside the walls.\n\nBut the system did what it was supposed to do. It kept you alive. The question now isn't whether it's broken \u2014 it isn't. The question is whether the emergency is still happening, or whether what's running is the echo of an emergency that ended long ago."
      }
    },
    mindsets: {
      child: {
        moderate: {
          label: "The Child Response",
          description: "When the safety question is loudest, the youngest part of you does what any smart child would: get ready.",
          example: "The email from your boss arrives and your body responds before your mind catches up. Tight chest. Shallow breath. You're not analyzing — you're bracing. The world has narrowed to a single question: is this a threat?",
          pattern: "This isn't weakness. It's the original program — the one written when you were too young to have other options. Pure self-preservation, and probably exactly right for the situation that installed it."
        },
        deep: {
          label: "The Child Response",
          description: "The youngest part of you still lives in the moment the world became unsafe. For this part, it's always happening. There is no 'after.'",
          example: "Someone raises their voice and something evacuates. You're not in the room anymore. You're in the body of someone very small who learned that volume means danger. This isn't a memory. It's a state — a full-body collapse where then and now become the same thing.",
          pattern: "The Child's response is pre-rational — encoded before you had language or context. The body doesn't know it's 2026. The body knows it's the moment when everything went wrong."
        }
      },
      protector: {
        moderate: {
          label: "The Protector Response",
          description: "The strategic part of you manages threat through control, distance, or preparation.",
          example: "The same email arrives and the Protector kicks in: drafting responses in your head, building contingencies, rehearsing composure. You might withdraw from closeness that evening — not from upset, but because vulnerability feels expensive right now.",
          pattern: "The Protector's logic is airtight: if I control enough variables, nothing gets through. The cost is that the walls keep out danger and connection alike."
        },
        deep: {
          label: "The Protector Response",
          description: "The Protector took the Child's terror and built a fortress — sophisticated enough to ensure the original wound never happens again.",
          example: "You walk into every room already knowing where the exits are. You keep relationships at a specific distance — close enough to function, far enough that no one reaches the part still hiding. When someone gets too close, the Protector deploys: rage, numbness, departure. Every move is strategic, even when you don't know you're doing it.",
          pattern: "The Protector makes no exceptions. It cannot distinguish between a threat and an intimacy. A hand reaching in love triggers the same protocol as a hand reaching in violence. That's the whole point — and the whole cost."
        }
      },
      adult: {
        moderate: {
          label: "The Adult Possibility",
          description: "The Adult isn't the absence of the alarm. It's the moment you hear the alarm and realize you don't have to obey it.",
          example: "The email from your boss arrives. Your chest tightens, your breath shortens — the old answer is firing on schedule. But this time, something new happens. You notice the tightening. You feel it without being moved by it. And in that gap — between the alarm and your reaction — you make a choice you've never made before: you do nothing. You don't rehearse. You don't prepare your defense. You just wait. And nothing terrible happens. The meeting comes, it's fine, and that evening you realize you got three hours of your life back. That gap between the alarm and the response — that's the Adult.",
          pattern: "The old answer is still there. It may always be there. But it's no longer the only voice in the room, and you've discovered you can hear it without following its instructions."
        },
        deep: {
          label: "The Adult Possibility",
          description: "The Adult doesn't tear down the fortress. It opens a window — and discovers the landscape has changed since the walls went up.",
          example: "Someone raises their voice and you feel the evacuation beginning — the familiar pull toward gone. Your body is already leaving. And then something catches. Some sliver of present-tense awareness holds you in the room for five more seconds. 'This is now. That was then. I am not small anymore.' You feel your feet on the floor. You feel the chair under you. The voice is just a voice — not the voice. You stay. Not because you forced yourself, but because you realized you could. And those five seconds change something that years of knowing-better never touched.",
          pattern: "The fortress doesn't come down. But the person inside it discovers they can step outside, feel the air, and walk back in by choice. That's everything."
        }
      }
    },
    inverseActions: {
      moderate: [{
        label: "The General Inverse",
        flavors: ["scanning", "withdrawal", "masking"],
        setup: "Your protective strategy pulls you toward readiness and away from exposure. You manage threat by staying alert, staying back, or staying composed.",
        protectorSays: "Don't say what you're actually thinking. Keep your real position to yourself. Stay safe.",
        inverseMove: "Say the true thing — the one your Protector has been editing out. Not aggressively. Just honestly. And then stay present for what happens next.",
        whatHappens: "Usually: nothing catastrophic. People respond to the realness. Or they disagree, and you survive the disagreement. Either way, you've collected data your Protector doesn't have — evidence that the danger may no longer be proportional to the defense.",
        principle: "The inverse isn't recklessness. It's a calibrated experiment: move toward what the old strategy says to avoid, in a context where the original stakes no longer apply, and see what's actually true now."
      }],
      deep: [{
        label: "For the Sentinel",
        flavors: ["hypervigilance", "scanning"],
        setup: "Your strategy is constant scanning — reading every face, measuring every silence, never fully resting. The action vector points toward readiness. Always watching.",
        protectorSays: "Don't relax. The moment you stop paying attention is the moment it happens.",
        inverseMove: "Choose one genuinely safe environment — with one person you trust — and practice not scanning. Let a silence be a silence. Let a facial expression be just an expression. Stay in your body instead of your watchtower.",
        whatHappens: "Your system will scream that you're being reckless. What you'll likely discover: the room stays safe even when you stop monitoring it. The data isn't that the world is safe. It's that you can survive not knowing for five minutes.",
        principle: "The inverse isn't dropping your guard forever. It's discovering that vigilance is a tool you use, not a state you're trapped in."
      }, {
        label: "For the One Who Leaves Without Leaving",
        flavors: ["dissociation", "numbing", "grief"],
        setup: "Your strategy is departure — not from the room, but from your body. When the signal overwhelms, something checks out. The action vector points away from being fully here.",
        protectorSays: "You don't want to feel this. Trust me. I've been protecting you from this for years.",
        inverseMove: "In a moment of mild discomfort — not crisis, not trauma, just ordinary difficulty — practice staying. Feet on the floor. Five things you can see. Stay in the body for thirty seconds longer than it wants to let you. Then thirty more.",
        whatHappens: "The feeling you've been outrunning will begin to surface. It won't be as annihilating as your Protector promised. Painful, but survivable — and survivability is the data point that changes everything.",
        principle: "The inverse isn't forcing yourself to feel everything at once. It's expanding your window of tolerance by inches — teaching your system that presence is survivable."
      }, {
        label: "For the One Who Burns the Perimeter",
        flavors: ["rage-defense"],
        setup: "Your strategy is force — when the boundary is threatened, you detonate. The rage isn't loss of control. It's the most controlled thing you do.",
        protectorSays: "Hit first. Softness is what got you hurt before.",
        inverseMove: "The next time someone crosses a line, express the boundary without the fire. 'That's not okay with me.' Then stay present for their response instead of overwhelming it.",
        whatHappens: "Your system will say the boundary doesn't count without rage behind it. What you'll often find: a clear, calm boundary is harder to dismiss than an explosive one.",
        principle: "The inverse isn't weakness. It's discovering you can protect yourself without scorching the earth."
      }, {
        label: "For the One Who Yields",
        flavors: ["fawn", "freeze"],
        setup: "Your strategy is compliance — when power shows up, you go still or go along. Not because you agree, but because resistance once had consequences you couldn't survive.",
        protectorSays: "Don't make it worse. Whatever they want to hear, say that. Survive this. Be right later, alone.",
        inverseMove: "In a low-stakes situation with someone safe, practice disagreeing. Not about something catastrophic — just a preference, an opinion, a 'no.' Feel how your body responds to the act of taking up space.",
        whatHappens: "The world doesn't retaliate. The person doesn't punish you. And you discover that you have a voice — one that was never destroyed, only archived.",
        principle: "The inverse isn't rebellion. It's discovering that self-expression isn't the same as self-endangerment — not anymore."
      }, {
        label: "For the One Who Closed the Door on Wanting",
        flavors: ["vulnerability-refusal", "testing"],
        setup: "Your strategy is preemptive lockdown — if you don't want, you can't be hurt by not getting. If you don't open, nothing can reach you. The action vector points toward impermeability.",
        protectorSays: "Wanting things is how you get destroyed. Stay sealed. Stay safe.",
        inverseMove: "Name one thing you want — to one person — without framing it as a joke, a test, or a request that's easy to deny. Let the wanting be visible.",
        whatHappens: "You'll feel dangerously exposed. What often happens: the other person meets you there. Not perfectly. But they respond to the realness. And you discover that wanting, even when it's uncertain, is survivable.",
        principle: "The inverse isn't naive trust. It's the experiment of letting desire exist without controlling its outcome."
      }]
    }
  },
  love: {
    question: "Am I Loved?",
    tiers: {
      moderate: {
        essence: "Your inner compass is tuned to connection and belonging — always tracking the relational temperature.",
        narrative: "Something in you learned early that connection is the currency that matters most. Not because you're needy \u2014 because at some point, reading the relational field around you was the most important skill you had.\n\nYou likely have an extraordinary sensitivity to relational temperature \u2014 you can feel when someone has shifted a degree, when attention has moved elsewhere, when the space between you and another person has changed shape. People might call you sensitive. You're attuned. You read a room the way a musician reads a chord.\n\nThe strategy was elegant: if I stay connected \u2014 if I'm what this relationship needs \u2014 I won't be left alone with the unbearable. And it worked. Your attunement is genuine, not a performance. The question is whether the volume is turned so high that you lose your own signal tracking everyone else's.\n\nWhat becomes possible when you discover that your belonging doesn't depend on your vigilance \u2014 that you can stop monitoring the connection and still find it there?"
      },
      deep: {
        essence: "Connection became both the most important resource and the most dangerous one — and you built your whole architecture around managing it.",
        narrative: "The ache at the center of your architecture isn't about wanting to be liked. It's deeper. Somewhere, before you had words for it, you learned that love was the thing that kept you alive \u2014 and that it could be withdrawn without warning.\n\nWhat you built was brilliant and devastating in equal measure. The caretaker who made themselves indispensable \u2014 if I am needed, I cannot be abandoned. The shapeshifter who learned to read what each relationship required and became it \u2014 losing themselves atom by atom until the performing self became the only self they could find. Or the one who leaves first \u2014 severing connections before they deepen, because depth means dependency and dependency means devastation.\n\nThese aren't relationship problems. They're survival architectures. The caretaker isn't selfless \u2014 they're terrified. The shapeshifter isn't flexible \u2014 they're homeless inside their own skin. The one who leaves first isn't afraid of commitment \u2014 they're afraid of what commitment costs when it's revoked.\n\nAll of these involve managing the relational field rather than existing within it. You're always working the connection \u2014 monitoring, adjusting, controlling, or preemptively destroying it \u2014 because simply being in a relationship without managing it feels like freefall.\n\nYou've never seen what happens when you just are. Without performing your value. Without tracking the other person's attachment. Without keeping one foot near the door."
      }
    },
    mindsets: {
      child: {
        moderate: {
          label: "The Child Response",
          description: "When the love question is loudest, the youngest part of you reaches out — or aches when reaching feels too risky.",
          example: "Your partner seems distant and a wave moves through you that has nothing to do with this evening. The child doesn't think 'they might be tired.' The child feels: 'They're leaving. What did I do?'",
          pattern: "This isn't clinginess. It's the echo of a time when proximity was survival. The child's logic: if I am loved, I exist. If the love wavers, so do I."
        },
        deep: {
          label: "The Child Response",
          description: "The youngest part equates love with survival. When connection wavers, it's not disappointing — it's life-threatening.",
          example: "Your partner pulls away — even slightly — and something doesn't just feel sad. It feels like falling. You might cling, rage, or go still, but the common denominator is a body-level conviction that this withdrawal could end you. Because once, in the original situation, it nearly did.",
          pattern: "The Child's panic isn't about this relationship. It's about THE relationship — the first one, the template. Every connection since is experienced through that original lens."
        }
      },
      protector: {
        moderate: {
          label: "The Protector Response",
          description: "The Protector manages the love question through strategy — performing, adapting, or pulling away before the other person can.",
          example: "Your partner seems distant and the Protector activates: maybe extra attentive, maybe withdrawing first. Both serve the same function — controlling the relational field so the gap can't become abandonment.",
          pattern: "The Protector's specialty is shapeshifting — becoming what the relationship requires. After years of attunement to others, the signal of your own needs becomes almost inaudible."
        },
        deep: {
          label: "The Protector Response",
          description: "The Protector built a system for managing the love supply — ensuring it never runs out by controlling every variable.",
          example: "You don't just love people — you study them. You know their patterns better than they do. You've built a version of yourself for each relationship. None are fake, exactly. But none are complete. And when you're alone, you're not sure which one is you.",
          pattern: "The system prevents abandonment effectively. What it can't create is genuine intimacy — because intimacy requires being known, and being known requires presenting a self that hasn't been curated for the audience."
        }
      },
      adult: {
        moderate: {
          label: "The Adult Possibility",
          description: "The Adult doesn't stop wanting connection. It discovers that connection doesn't require a performance to survive.",
          example: "Your partner seems distant. The old pull fires instantly — scan their face, fix it, close the gap. Your body is already leaning toward caretaking. But this time, you catch yourself mid-lean. You say something you've almost never said: 'You seem far away tonight. I'm here if you want to talk.' And then — this is the hard part — you stop. You don't follow up. You don't scan their face to see if your offering was enough. You sit in the silence. And something strange happens: they come to you. Not because you earned it. Because you left room for them to choose it. That room — that moment of not performing — is the Adult.",
          pattern: "You discover that the people who matter don't need the performance. Some of them were actually waiting for you to stop, so they could reach the real person behind it."
        },
        deep: {
          label: "The Adult Possibility",
          description: "The Adult doesn't eliminate the ache for belonging. It discovers that belonging was never something you could earn — only something you could allow.",
          example: "Your partner pulls away and the old panic detonates. Every cell says: fix it, earn it back, or leave before they do. You've been here a thousand times and you know every exit. But tonight, you don't take any of them. You sit with the panic. You feel it fully — the old terror that withdrawal means annihilation. And you stay. You don't perform. You don't leave. You let the relationship be uncertain for one full evening. And in the morning, they're still there. Not because you managed it. Because it was real. That's the moment the old answer starts to loosen — not because you argued with it, but because you lived through the thing it said would destroy you.",
          pattern: "The revolution isn't learning to need less. It's discovering that need — expressed honestly, without strategy — can be met. And surviving the times it isn't."
        }
      }
    },
    inverseActions: {
      moderate: [{
        label: "The General Inverse",
        flavors: ["scanning", "caretaking"],
        setup: "Your strategy pulls toward managing the connection — reading what's needed, adjusting yourself to fit, closing gaps before they become distances.",
        protectorSays: "They seem off. Do something. Be more. Fix it before it becomes abandonment.",
        inverseMove: "Stay still. Don't manage their experience. Express what you actually need — simply, without packaging it — and let them respond however they respond.",
        whatHappens: "Usually, the connection doesn't evaporate. Or if the other person does pull away, you discover you're still intact. You've learned something your Protector couldn't teach: you can be unedited and the people who matter will still be there.",
        principle: "The inverse isn't withdrawal. It's letting a relationship be what it actually is — without your constant intervention to keep it safe."
      }],
      deep: [{
        label: "For the One Who Disappeared Into Others",
        flavors: ["self-erasure"],
        setup: "Your strategy is shapeshifting — becoming what each relationship needs, tracking and adjusting until you fit perfectly. The action vector always points toward the other person's needs, away from your own.",
        protectorSays: "If you show up as yourself — the real, unedited, inconvenient self — they'll realize you're not worth the effort.",
        inverseMove: "In one relationship you feel relatively safe in, express a preference that serves only you. Not a need disguised as a suggestion. A want. And don't immediately check their face to see if it was okay.",
        whatHappens: "There may be friction. But friction between two real people, not between a person and a performance. Many find that others are actually relieved to encounter the real version.",
        principle: "The inverse isn't selfishness. It's discovering that some relationships can hold the weight of your actual self — and that the ones that can't were never holding you."
      }, {
        label: "For the One Who Leaves Before Being Left",
        flavors: ["preemptive-cutoff"],
        setup: "Your strategy is preemptive severance — the moment a connection deepens past your threshold, you find a reason to end it. You're not running from them. You're running from what their leaving would do to you.",
        protectorSays: "You already know how this ends. Save yourself. Leave while it still looks like a choice.",
        inverseMove: "Stay. When every cell says 'time to go,' stay one conversation longer. Don't burn it down. Sit in the discomfort of not knowing whether they'll leave, without taking the decision out of their hands.",
        whatHappens: "Unbearable exposure. But they often don't leave. And if they do, you discover it hurts but doesn't annihilate you the way the Child predicted.",
        principle: "The inverse isn't naive trust. It's letting a relationship run its actual course instead of writing the ending yourself."
      }, {
        label: "For the One Who Has Never Felt Fully Known",
        flavors: ["core-loneliness"],
        setup: "Your strategy is quiet — you've simply never shown all of yourself to one person at one time. Pieces, yes. But the whole picture stays locked away.",
        protectorSays: "If they saw everything, they'd leave. Keep the good parts visible. Archive the rest.",
        inverseMove: "Tell someone one true thing about yourself that you've never said out loud. Not the darkest thing — just the most honest. Something that doesn't fit the version of you they know.",
        whatHappens: "The ground won't open. The relationship may deepen in a way you didn't know was possible — because real things create real connections. Or they won't know what to do with it, and that will hurt, and you'll survive that too.",
        principle: "The inverse isn't radical exposure. It's one brick removed from the wall — to see what light comes through."
      }]
    }
  },
  worth: {
    question: "Am I Worthy?",
    tiers: {
      moderate: {
        essence: "Your inner compass is tuned to adequacy and significance — always measuring whether you've done enough to earn your place.",
        narrative: "Something in you learned early that your value is conditional \u2014 that it must be earned, maintained, and defended. Not because you're insecure \u2014 because at some point, your sense of being enough became tied to what you produced or demonstrated.\n\nYou likely have an internal measuring system that runs constantly \u2014 comparing, evaluating, scoring. You know exactly where you stand relative to expectations at any moment. People might call you a perfectionist. That misses the engine underneath: a quiet question about whether you \u2014 not your work, but the you beneath it \u2014 is enough.\n\nThe strategy was powerful: if I am undeniably good at this, competent at that, impressive in this way \u2014 then the question of my fundamental worth never has to be answered directly. Achievement becomes the armor. And it worked. You've likely built an impressive life through this engine. The question is whether you can ever enjoy what you've built, or whether each achievement resets the clock on the next proof.\n\nWhat becomes possible when you discover that your worth was never actually in question \u2014 that the trial you've been preparing for was adjourned a long time ago?"
      },
      deep: {
        essence: "Somewhere deep in your architecture, a verdict was delivered — and you've spent your life either fighting it, proving it wrong, or quietly believing it.",
        narrative: "The worth wound is different from the others because it lives in the first person. The safety wound says 'the world is dangerous.' The love wound says 'people leave.' The worth wound says 'I am the problem.' It's the most intimate of the three \u2014 not a belief about the world but about yourself, installed so early it doesn't feel like a belief. It feels like a fact.\n\nThe architectures built around this are extraordinary. Achievement addiction that produces whole careers, whole empires built on the fuel of 'not enough.' Perfectionism so complete that nothing is ever finished because finishing means submitting it to judgment. Contempt turned inward as permanent weather \u2014 a voice that narrates your existence with a flatness that makes worthlessness seem like climate.\n\nOr the inverse: contempt projected outward, where the intolerable possibility that you're not enough converts into certainty that everyone else is mediocre.\n\nAll share the same engine: a relentless campaign to ensure the question of your fundamental worth is never directly answered. The achievement addict suspects the answer is 'no' and can't stop long enough to find out. The shame-collapse victim believes the answer is 'no' and has stopped running entirely.\n\nThe most painful thing: the wound corrupts the evidence. Every achievement is explained away. Every kindness is suspect. Every failure is proof. The trial is rigged \u2014 not because you're guilty, but because the judge and the defendant are the same person."
      }
    },
    mindsets: {
      child: {
        moderate: {
          label: "The Child Response",
          description: "When the worth question is loudest, the youngest part of you collapses into the verdict and believes it.",
          example: "You make a visible mistake and something inside doesn't just register an error — it confirms a sentence. 'See? Not good enough.' The child doesn't have proportion. One failure is total failure.",
          pattern: "This isn't low self-esteem — it's the original wound speaking in its original voice. A child made a logical connection: I was treated as not enough, therefore I must not be. That logic was never updated."
        },
        deep: {
          label: "The Child Response",
          description: "The youngest part doesn't question the verdict — it lives inside it. Unworthiness isn't a fear. It's the ground.",
          example: "Praise reaches you and something flinches — not modesty, but the collision between what they're saying and what you know. Like someone insisting the sky is green. You don't argue. You just quietly know they're wrong. This 'knowing' doesn't feel like a wound. It feels like clarity.",
          pattern: "The verdict was installed by someone who mattered — a parent, a system, a sustained experience of being treated as insufficient. The logic was inescapable: if the person who should love me treats me as not enough, I must not be. It was never experienced as logic. It was experienced as reality."
        }
      },
      protector: {
        moderate: {
          label: "The Protector Response",
          description: "The Protector transforms the wound into fuel — achieving, perfecting, or deflecting to ensure the question is never answered 'no.'",
          example: "You make a mistake and the Protector doesn't feel it — it moves. Work late. Overdeliver. Deflect the 'it's not a big deal' because lowering your guard means feeling what's underneath the productivity.",
          pattern: "The Protector built an impressive fortress out of competence. The irony: no external proof answers an internal question. Each accomplishment provides temporary relief but never resolution."
        },
        deep: {
          label: "The Protector Response",
          description: "The Protector built an elaborate system to either disprove the verdict constantly or make it irrelevant through sheer output.",
          example: "You've built a life that looks, from the outside, like proof of worth. But none of it counts. Each accomplishment triggers brief reprieve, then an immediate reset. The bar rises. You're not climbing toward enough. You're on a treadmill, and the speed keeps increasing.",
          pattern: "The Protector's engine runs on terror disguised as ambition. Strip away the productivity and underneath: a child trying to earn the right to exist. The Protector can't stop — because stopping means sitting with the verdict, and the verdict feels unsurvivable."
        }
      },
      adult: {
        moderate: {
          label: "The Adult Possibility",
          description: "The Adult doesn't argue with the verdict. It discovers the trial was never legitimate in the first place.",
          example: "You make a visible mistake at work. The old answer fires immediately: compensate, prove, earn back. You can feel the campaign of redemption assembling itself — the extra hours, the triple-checking, the silent apology in the form of flawless performance. But this time, you don't launch the campaign. You fix the mistake. You go home on time. And that evening, sitting with the discomfort of an uncompensated error, something shifts. Nobody called. Nobody reconsidered your value. The world absorbed a mistake the way worlds do — without verdict. And you realize the tribunal that's been running for decades was never convened by anyone but you. That realization — sitting with an imperfection and discovering you're still intact — that's the Adult.",
          pattern: "You find out that the scorecard your Protector has been managing doesn't exist anywhere outside your own head. Nobody else was keeping it. And when you stop keeping it, the thing underneath isn't emptiness — it's relief."
        },
        deep: {
          label: "The Adult Possibility",
          description: "The Adult traces the verdict to its source — and discovers it has an author. And the author wasn't you.",
          example: "The inner voice is mid-sentence: 'You're not good enough to—' And for the first time, instead of believing it or fighting it, you get curious. You listen to its tone. Its cadence. And you recognize it. That's not your voice. It never was. It was installed — a conclusion drawn by a child from insufficient evidence in an uncontrolled experiment. You've been obeying a verdict delivered in a courtroom that doesn't exist, by a judge who had no jurisdiction, based on evidence that wouldn't survive cross-examination. And in the moment you see that — really see it, not as an idea but as something you feel in your chest — the voice doesn't disappear. But it loses authority. It becomes an old recording. And you discover, underneath the recording, someone you've never met: the person you are when you're not performing your worth.",
          pattern: "The shame doesn't evaporate. But when you can see where it came from — and that where it came from wasn't the truth — it loosens its grip. Not through force. Through daylight."
        }
      }
    },
    inverseActions: {
      moderate: [{
        label: "The General Inverse",
        flavors: ["proving"],
        setup: "Your strategy pulls toward proving — more output, more effort, more evidence for the case you're building that you deserve to be here.",
        protectorSays: "You made a mistake. Work harder. Don't rest until the ledger is balanced.",
        inverseMove: "Let the mistake stand. Don't compensate. Go home on time. And the next time someone offers a genuine compliment, receive it fully — without deflecting or explaining it away.",
        whatHappens: "Nobody was keeping the scorecard your Protector imagined. The mistake becomes just a mistake. And in the space where you would have been proving yourself, you find something unexpected: you're still here. Still enough.",
        principle: "The inverse isn't laziness. It's decoupling your output from your identity — doing good work from desire rather than desperation."
      }],
      deep: [{
        label: "For the One Who Can't Stop Earning",
        flavors: ["achievement-addiction"],
        setup: "You're not working hard because you love the work. You're working hard because the alternative is sitting still long enough to feel what's underneath.",
        protectorSays: "Rest is for people who've earned it. You haven't. Maybe not ever.",
        inverseMove: "Take a full day where you produce nothing. No cheating with productive rest. No optimization. Just being a person who isn't performing their value.",
        whatHappens: "Agitation first. Then grief — for the years in the machine, for the child who believed the machine was all that stood between them and disappearing. You won't disappear. You'll be still, and still here.",
        principle: "The inverse isn't stopping forever. It's the empirical test of whether you exist outside your output."
      }, {
        label: "For the One Who Carries the Verdict",
        flavors: ["shame-spiral", "internalized-contempt"],
        setup: "The shame doesn't come and go. It lives in you like weather. You've stopped fighting it. You just live under it.",
        protectorSays: "This is just who you are. At least if you know the truth, no one can surprise you with it.",
        inverseMove: "Name the shame out loud to someone you trust. Not the content — the experience: 'I carry a constant feeling that I'm not enough and I've never said that to anyone.' Shame survives by staying hidden. Speak it.",
        whatHappens: "Shame exposed to compassionate witnessing loses structural integrity. It goes from fact to feeling, and feelings move. The response won't be what the shame predicted. It won't be horror. It will probably be recognition.",
        principle: "The inverse isn't confession. It's breaking shame's one requirement — secrecy."
      }, {
        label: "For the One Who Turned It Outward",
        flavors: ["contempt-as-defense"],
        setup: "The intolerable feeling of not being enough converts into certainty that everyone else is insufficient. If the bar is low enough, you're always above it.",
        protectorSays: "They're mediocre. At least you have standards.",
        inverseMove: "When you catch yourself in contempt for someone's inadequacy, ask: 'What am I afraid this says about me?' The contempt is almost always a mirror.",
        whatHappens: "Beneath the contempt: fear that their inadequacy is yours, that failure is contagious. Seeing this is more honest than the contempt. Honesty is a better foundation than performance.",
        principle: "The inverse isn't lowering standards. It's recognizing that the harshness aimed outward is the same harshness aimed inward — both the Protector's attempt to stay ahead of an invalid judgment."
      }, {
        label: "For the One Fused with the Performance",
        flavors: ["identity-fusion", "masking"],
        setup: "You've been the role so long — the competent one, the strong one, the one who has it together — that you've lost contact with whoever exists underneath. The performance isn't a mask anymore. It might be all there is.",
        protectorSays: "Don't look too closely. What if there's nothing under there? Better to keep performing than to find out.",
        inverseMove: "In a moment of genuine stillness, ask yourself: 'What would I do right now if no one were watching and nothing counted?' Don't filter the answer. Let it be embarrassingly simple or confusing or contradictory. That's the signal underneath the performance.",
        whatHappens: "What often surfaces is something quiet and surprisingly tender — a want that has nothing to do with achievement. It might be rest. It might be play. Whatever it is, it's yours — not curated, not optimized. And its existence is evidence that the person underneath the performance is still there.",
        principle: "The inverse isn't dismantling the competence. It's visiting the part of you that exists apart from it — and discovering that part is still alive."
      }]
    }
  }
};

/* ═══════════════════════════════════════════════════════════════
   ARC DATA — The three-beat summary for each question × tier
   Child's Truth → Protector's Strategy → Adult Arrival
   ═══════════════════════════════════════════════════════════════ */

var ARC_DATA = {
  safety: {
    moderate: {
      childTruth: "The world can hurt me without warning. I must stay ready. Relaxing is how you get caught.",
      protectorStrategy: "Control the variables. Read every room. Rehearse every response. Stay composed, stay alert, stay one step ahead — and nothing gets through.",
      adultArrival: "You walk into a room and notice you're scanning — and for the first time, you put it down. Not because the world became safe. Because you became someone who can handle what comes. The alarm is still there. It's just no longer running you. You respond to what's actually happening instead of what once happened. And in the space where hypervigilance used to live, you find something unexpected: presence. The ability to be here — fully, without exit strategy — and discover that here is enough.",
      adultVision: "Conversations where you say what you think without rehearsing it. Sleep that comes without running contingency plans. Intimacy that doesn't require a risk assessment. A body that knows the difference between discomfort and danger — and can stay present for both."
    },
    deep: {
      childTruth: "The world broke its promise and my body decided: never again. Never unguarded. Never fully here. Being present nearly destroyed me once. I won't give it a second chance.",
      protectorStrategy: "Build the fortress. Hypervigilance to stay ahead, dissociation to escape what you can't stay ahead of, rage to enforce the perimeter, numbness to turn the volume down on what gets through anyway. Make no exceptions. Trust nothing fully. The cost is everything — but the alternative was unsurvivable.",
      adultArrival: "You discover the emergency ended — maybe years ago — and you survived it. The fortress doesn't come down. It gets windows. You learn to feel without drowning, to be present without being destroyed, to let someone reach you without losing yourself. Your body begins to distinguish memory from reality — the echo of danger from danger itself. You sleep differently. You breathe differently. You stop scanning the room and start inhabiting it.",
      adultVision: "A body that can rest. Relationships where closeness doesn't trigger evacuation. The ability to feel grief, joy, tenderness — the full spectrum — without the system shutting down. Presence that doesn't cost you your safety. Safety that doesn't cost you your life."
    }
  },
  love: {
    moderate: {
      childTruth: "Love can shift without warning. If I don't track it constantly, I'll miss the moment it leaves — and by then it will be too late.",
      protectorStrategy: "Read what they need. Become it. Close every gap before it becomes a distance. If I manage the connection perfectly — if I'm attentive enough, useful enough, easy enough — I won't be left alone with the unbearable.",
      adultArrival: "You stop managing and start being. Not performing connection — experiencing it. You express a need without scanning their face for the cost. You sit in silence without filling it. And you discover that the people who stay when you stop performing are the ones who were actually there for you. The love you've been frantically earning was already available — you just couldn't receive it while your hands were full earning it.",
      adultVision: "Relationships where you bring your actual self — preferences, needs, inconveniences, the whole unedited person — and discover that some people don't just tolerate that, they prefer it. Stillness with another person that feels like rest instead of danger. The experience of being chosen, not for your usefulness, but for you."
    },
    deep: {
      childTruth: "Love is survival. Its withdrawal isn't disappointing — it's annihilating. I will erase myself, perform endlessly, or leave first. Whatever prevents the devastation of being truly left — because that cannot happen again.",
      protectorStrategy: "Become indispensable so they can't afford to leave. Disappear into their needs so there's nothing to reject. Or leave first — sever every connection at the threshold of real depth — because depth means dependence and dependence means devastation. Manage the field. Never just be in it.",
      adultArrival: "You show up as yourself — the whole, unedited, inconvenient self — and some people stay. Not because you earned it. Because they chose you. Connection stops being a project you manage and becomes a place you live. You tolerate the uncertainty of being loved without controlling the outcome — and discover that love freely given, even with its risks, nourishes in a way that earned love never could. The ache for belonging doesn't vanish. But it quiets, because belonging is no longer something you perform. It's something you allow.",
      adultVision: "The experience of being fully known by another person — not the curated version, not the useful version, but the real one — and discovering that known-ness doesn't lead to abandonment. It leads to intimacy. The ability to need someone without the need being an emergency. Love that doesn't require vigilance to maintain."
    }
  },
  worth: {
    moderate: {
      childTruth: "My value is conditional. It must be earned every day, maintained without lapse, and defended against any evidence to the contrary. Rest is a luxury I haven't qualified for.",
      protectorStrategy: "Outwork the question. Achieve until the verdict is buried under so much evidence that it can't surface. Deflect praise because receiving it means you might relax. Never stop proving — because the moment you stop is the moment the truth gets through.",
      adultArrival: "You rest — and nothing collapses. A mistake becomes just a mistake, not a referendum on your existence. You receive a compliment and something in you lets it land, without deflecting or explaining it away. The engine that ran on 'not enough' begins to idle, and in the quiet you discover what the engine was drowning out: you were always enough. The trial you spent your life preparing for was adjourned before you were born. The performance was running in an empty courtroom.",
      adultVision: "Work that comes from desire instead of desperation. The ability to finish something and feel satisfied — not for a moment before the bar resets, but genuinely. A mistake that doesn't trigger a multi-day campaign of redemption. The experience of mattering — not because of what you've produced, but because of what you are."
    },
    deep: {
      childTruth: "I am the problem. Not what I do — what I am. This isn't a fear or a worry. It's the ground I stand on. A verdict delivered so early and reinforced so completely that it doesn't feel like a belief. It feels like the one honest thing I know about myself.",
      protectorStrategy: "Never stop earning — achieve, perfect, perform until the question of your worth is temporarily buried. Or collapse into the verdict and carry it like a stone, because at least the suffering of certainty is better than the terror of hoping. Turn the contempt inward as a preemptive strike — if you condemn yourself first, no one else's judgment can reach you. Or turn it outward — if everyone else is mediocre, your own inadequacy is relative.",
      adultArrival: "You trace the verdict to its source and discover it has an author — and the author wasn't you. The 'truth' about yourself turns out to be a conclusion drawn by a child from insufficient evidence in an uncontrolled experiment. Once you see that, the verdict doesn't vanish, but it loses jurisdiction. Self-contempt becomes self-observation. The shame, exposed to witness and daylight, loosens its grip. You stop performing your worth and begin living from it — not because someone finally convinced you you're enough, but because you questioned the court that said you weren't.",
      adultVision: "Rest that doesn't feel like dying. Stillness that doesn't feel like failure. The inner voice that used to narrate your inadequacy becoming quiet — not through force, but because it was never your voice to begin with. And the person underneath the performance — the one you were afraid to meet — turns out to have been there all along. Waiting. Intact. Enough."
    }
  }
};

/* ═══════════════════════════════════════════════════════════════
   INTERWEAVE NARRATIVES — How primary & secondary questions relate
   ═══════════════════════════════════════════════════════════════ */

var INTERWEAVE = {
  "safety-love": "Underneath the vigilance, there's an ache about belonging — and some of your safety architecture is actually in service of protecting against that loss. The scanning, the readiness, the walls: they're not just about danger. They're about making sure you're never blindsided by someone leaving. The two questions feed each other — the less safe you feel, the harder it is to trust connection; the less secure the connection, the more you scan.",
  "safety-worth": "Your safety architecture has a quiet passenger: a question about whether you deserve to feel safe at all. The hypervigilance isn't just scanning for external threat — part of it is monitoring whether you've earned the right to relax. These two questions create a particular kind of exhaustion: you can't rest because the world might be dangerous, and you can't rest because rest feels like something you haven't qualified for.",
  "love-safety": "Your attunement to connection carries a bodyguard — a safety system that activates whenever closeness gets too real. The caretaking, the shapeshifting, the relational tracking: underneath all of it is a nervous system that learned that the people you need most are also the ones who can hurt you most. Love and danger became linked early, and your architecture reflects both.",
  "love-worth": "Your question about belonging has a shadow: a suspicion that you're not worth belonging to. The performance of connection — the earning, the adapting, the making-yourself-indispensable — isn't just about preventing abandonment. It's about compensating for a quiet conviction that your unedited self wouldn't be chosen. The love question asks 'will they stay?' The worth question underneath it whispers 'why would they?'",
  "worth-safety": "Your achievement engine has a sentinel standing behind it — a part that knows what happens when you fail isn't just disappointment but danger. The relentless drive isn't pure ambition; it's partly a safety strategy. If you're excellent enough, competent enough, indispensable enough, the threats that shaped you can't reach you. Worth became your armor, and the armor became mandatory.",
  "worth-love": "Underneath the drive to prove yourself, there's a quieter ache: wanting to be valued for who you are, not what you produce. Your worth architecture may actually be running interference on your love question — keeping you so busy earning your place that you never have to risk being seen without your credentials. The performance protects against both verdicts at once: 'not enough' and 'not wanted.'"
};
var Q_LABELS = {
  safety: "Am I Safe?",
  love: "Am I Loved?",
  worth: "Am I Worthy?"
};
var Q_COLORS_BASE = {
  safety: "#a06050",
  love: "#8a7540",
  worth: "#6a80a0"
};

/* ─── Scoring utilities ─── */
function getIntensityTier(avgIntensity) {
  if (avgIntensity < 1.7) return "moderate";
  if (avgIntensity > 2.3) return "deep";
  return "blended";
}
function shuffleArray(arr) {
  var a = _toConsumableArray(arr);
  for (var i = a.length - 1; i > 0; i--) {
    var j = Math.floor(Math.random() * (i + 1));
    var _ref = [a[j], a[i]];
    a[i] = _ref[0];
    a[j] = _ref[1];
  }
  return a;
}

/* ─── Visual system that adapts to intensity ─── */
function useTheme(avgIntensity) {
  var tier = getIntensityTier(avgIntensity);
  var t = avgIntensity > 0 ? Math.min((avgIntensity - 1) / 2, 1) : 0; // 0-1 lerp

  var lerp = function lerp(a, b) {
    return Math.round(a + (b - a) * t);
  };
  var lerpHex = function lerpHex(h1, h2) {
    var r1 = parseInt(h1.slice(0, 2), 16),
      g1 = parseInt(h1.slice(2, 4), 16),
      b1 = parseInt(h1.slice(4, 6), 16);
    var r2 = parseInt(h2.slice(0, 2), 16),
      g2 = parseInt(h2.slice(2, 4), 16),
      b2 = parseInt(h2.slice(4, 6), 16);
    return "#".concat(lerp(r1, r2).toString(16).padStart(2, '0')).concat(lerp(g1, g2).toString(16).padStart(2, '0')).concat(lerp(b1, b2).toString(16).padStart(2, '0'));
  };
  return {
    accent: lerpHex("C9A96E", "8A7560"),
    text: lerpHex("A09882", "7A7060"),
    heading: lerpHex("E8DCC8", "D4C8B0"),
    dim: lerpHex("5A5347", "3D3630"),
    bg1: lerpHex("1A1714", "15130F"),
    bg2: lerpHex("0F0E0C", "0C0B09"),
    adult: lerpHex("6AAD8E", "507A60"),
    protector: lerpHex("B8A044", "8A7540"),
    child: lerpHex("D4836A", "A06050"),
    tier: tier
  };
}

/* ─── Components ─── */

function FadeIn(_ref2) {
  var children = _ref2.children,
    _ref2$delay = _ref2.delay,
    delay = _ref2$delay === void 0 ? 0 : _ref2$delay,
    _ref2$className = _ref2.className,
    className = _ref2$className === void 0 ? "" : _ref2$className;
  var _useState = useState(false),
    _useState2 = _slicedToArray(_useState, 2),
    visible = _useState2[0],
    setVisible = _useState2[1];
  useEffect(function () {
    var t = setTimeout(function () {
      return setVisible(true);
    }, delay);
    return function () {
      return clearTimeout(t);
    };
  }, [delay]);
  return /*#__PURE__*/React.createElement("div", {
    className: className,
    style: {
      opacity: visible ? 1 : 0,
      transform: visible ? "translateY(0)" : "translateY(18px)",
      transition: "opacity 0.8s ease, transform 0.8s ease"
    }
  }, children);
}
function ProgressRing(_ref3) {
  var current = _ref3.current,
    total = _ref3.total,
    color = _ref3.color;
  var r = 22,
    circ = 2 * Math.PI * r;
  return /*#__PURE__*/React.createElement("svg", {
    width: "56",
    height: "56",
    viewBox: "0 0 56 56"
  }, /*#__PURE__*/React.createElement("circle", {
    cx: "28",
    cy: "28",
    r: r,
    fill: "none",
    stroke: "rgba(255,255,255,0.08)",
    strokeWidth: "3"
  }), /*#__PURE__*/React.createElement("circle", {
    cx: "28",
    cy: "28",
    r: r,
    fill: "none",
    stroke: color,
    strokeWidth: "3",
    strokeDasharray: circ,
    strokeDashoffset: circ * (1 - current / total),
    strokeLinecap: "round",
    style: {
      transition: "stroke-dashoffset 0.6s ease",
      transform: "rotate(-90deg)",
      transformOrigin: "50% 50%"
    }
  }), /*#__PURE__*/React.createElement("text", {
    x: "28",
    y: "33",
    textAnchor: "middle",
    fill: color,
    fontSize: "14",
    fontFamily: "'Cormorant Garamond', serif",
    fontWeight: "600"
  }, current));
}
function Btn(_ref4) {
  var onClick = _ref4.onClick,
    children = _ref4.children,
    color = _ref4.color,
    hoverColor = _ref4.hoverColor;
  return /*#__PURE__*/React.createElement("button", {
    onClick: onClick,
    style: {
      background: "transparent",
      border: "1px solid ".concat(color, "66"),
      color: color,
      padding: "0.75rem 2.4rem",
      fontSize: "0.8rem",
      letterSpacing: "0.2em",
      textTransform: "uppercase",
      cursor: "pointer",
      fontFamily: "'Source Sans 3', sans-serif",
      transition: "all 0.3s ease"
    },
    onMouseOver: function onMouseOver(e) {
      e.target.style.borderColor = hoverColor || color;
      e.target.style.background = "".concat(color, "0D");
    },
    onMouseOut: function onMouseOut(e) {
      e.target.style.borderColor = "".concat(color, "66");
      e.target.style.background = "transparent";
    }
  }, children);
}
function LandingScreen(_ref5) {
  var onBegin = _ref5.onBegin,
    theme = _ref5.theme;
  return /*#__PURE__*/React.createElement("div", {
    style: {
      minHeight: "100vh",
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      alignItems: "center",
      padding: "2rem",
      textAlign: "center"
    }
  }, /*#__PURE__*/React.createElement(FadeIn, {
    delay: 200
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.72rem",
      letterSpacing: "0.4em",
      textTransform: "uppercase",
      color: theme.dim,
      marginBottom: "2rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "A Self-Discovery Experience")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 500
  }, /*#__PURE__*/React.createElement("h1", {
    style: {
      fontSize: "clamp(2.4rem, 6vw, 4rem)",
      fontWeight: 300,
      lineHeight: 1.15,
      margin: "0 0 0.5rem",
      color: theme.heading,
      fontFamily: "'Cormorant Garamond', serif"
    }
  }, "Your Inner", /*#__PURE__*/React.createElement("br", null), "Architecture")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 800
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      width: "40px",
      height: "1px",
      background: "linear-gradient(90deg, transparent, ".concat(theme.accent, ", transparent)"),
      margin: "1.5rem auto"
    }
  })), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1100
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      maxWidth: "450px",
      lineHeight: 1.8,
      color: theme.text,
      fontSize: "0.98rem",
      margin: "0 auto 2.5rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Long before reaching adolescence, every child figures out their own answer to three questions: ", /*#__PURE__*/React.createElement("em", null, "Am I safe? Am I loved? Am I worthy?"), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("br", null), "Whatever that child concluded, one of those answers has been quietly running your life ever since \u2014 shaping what you avoid, what you chase, and perhaps even what you can't stop doing even when you know it's costing you.", /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("br", null), "Ten everyday moments. Your honest reactions. And the answer you've been living inside.")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1500
  }, /*#__PURE__*/React.createElement(Btn, {
    onClick: onBegin,
    color: theme.accent
  }, "Begin")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1800
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.72rem",
      color: theme.dim,
      marginTop: "3rem",
      maxWidth: "400px",
      lineHeight: 1.6,
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "For informational and educational purposes only. This is not therapy, diagnosis, or clinical assessment. If any content activates distress, please reach out to a qualified mental health professional. Based on the Relational Mindset Model.")));
}
function PhaseIntro(_ref6) {
  var phase = _ref6.phase,
    onContinue = _ref6.onContinue,
    theme = _ref6.theme,
    tier = _ref6.tier;
  var data = {
    discovery: {
      title: "Discovery",
      subtitle: "Recognizing What's Running",
      description: "The answer that's been running shows up in ordinary moments — not dramatic ones. You'll encounter ten. For each one, choose the response that feels most like your honest experience — not the healthiest option, not the one you show people, but the one you actually live inside. There are no wrong answers. These are all strategies, and they all made sense once."
    }
  };
  var info = data[phase];
  return /*#__PURE__*/React.createElement("div", {
    style: {
      minHeight: "100vh",
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      alignItems: "center",
      padding: "2rem",
      textAlign: "center"
    }
  }, /*#__PURE__*/React.createElement(FadeIn, {
    delay: 200
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.7rem",
      letterSpacing: "0.35em",
      textTransform: "uppercase",
      color: theme.dim,
      marginBottom: "1.5rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, info.title)), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 500
  }, /*#__PURE__*/React.createElement("h2", {
    style: {
      fontSize: "clamp(1.6rem, 4vw, 2.6rem)",
      fontWeight: 300,
      color: theme.heading,
      margin: "0 0 1.5rem",
      fontFamily: "'Cormorant Garamond', serif"
    }
  }, info.subtitle)), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 800
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      maxWidth: "470px",
      lineHeight: 1.75,
      color: theme.text,
      fontSize: "1rem",
      margin: "0 auto 2.5rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, info.description)), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1100
  }, /*#__PURE__*/React.createElement(Btn, {
    onClick: onContinue,
    color: theme.accent
  }, "Continue")));
}
function ScenarioScreen(_ref7) {
  var scenario = _ref7.scenario,
    index = _ref7.index,
    total = _ref7.total,
    onSelect = _ref7.onSelect,
    onBack = _ref7.onBack,
    theme = _ref7.theme;
  var _useState3 = useState(null),
    _useState4 = _slicedToArray(_useState3, 2),
    selected = _useState4[0],
    setSelected = _useState4[1];
  var _useState5 = useState([]),
    _useState6 = _slicedToArray(_useState5, 2),
    shuffled = _useState6[0],
    setShuffled = _useState6[1];
  var _useState7 = useState(0),
    _useState8 = _slicedToArray(_useState7, 2),
    fadeKey = _useState8[0],
    setFadeKey = _useState8[1];
  useEffect(function () {
    setSelected(null);
    setShuffled(shuffleArray(scenario.responses));
    setFadeKey(function (k) {
      return k + 1;
    });
  }, [scenario.id]);
  var handleSelect = function handleSelect(resp) {
    setSelected(resp);
    setTimeout(function () {
      return onSelect(resp);
    }, 600);
  };
  return /*#__PURE__*/React.createElement("div", {
    key: fadeKey,
    style: {
      minHeight: "100vh",
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      padding: "2rem",
      maxWidth: "640px",
      margin: "0 auto"
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      display: "flex",
      justifyContent: "space-between",
      alignItems: "center",
      marginBottom: "2rem"
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      display: "flex",
      alignItems: "center",
      gap: "0.8rem"
    }
  }, index > 0 && /*#__PURE__*/React.createElement("button", {
    onClick: onBack,
    style: {
      background: "transparent",
      border: "none",
      color: theme.dim,
      cursor: "pointer",
      fontSize: "0.72rem",
      letterSpacing: "0.15em",
      textTransform: "uppercase",
      fontFamily: "'Source Sans 3', sans-serif",
      padding: "0.3rem 0",
      transition: "color 0.3s ease",
      display: "flex",
      alignItems: "center",
      gap: "0.3rem"
    },
    onMouseOver: function onMouseOver(e) {
      return e.target.style.color = theme.accent;
    },
    onMouseOut: function onMouseOut(e) {
      return e.target.style.color = theme.dim;
    }
  }, "\u2190 Back"), /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.7rem",
      letterSpacing: "0.3em",
      textTransform: "uppercase",
      color: theme.dim,
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Scenario")), /*#__PURE__*/React.createElement(ProgressRing, {
    current: index + 1,
    total: total,
    color: theme.accent
  })), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 100
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "1.12rem",
      lineHeight: 1.7,
      color: theme.heading,
      marginBottom: "2.5rem",
      fontFamily: "'Cormorant Garamond', serif",
      fontWeight: 400,
      fontStyle: "italic"
    }
  }, scenario.situation)), /*#__PURE__*/React.createElement("div", {
    style: {
      display: "flex",
      flexDirection: "column",
      gap: "0.6rem"
    }
  }, shuffled.map(function (resp, i) {
    var isSelected = selected === resp;
    var isFaded = selected && !isSelected;
    return /*#__PURE__*/React.createElement(FadeIn, {
      key: i,
      delay: 250 + i * 90
    }, /*#__PURE__*/React.createElement("button", {
      onClick: function onClick() {
        return !selected && handleSelect(resp);
      },
      disabled: !!selected,
      style: {
        width: "100%",
        textAlign: "left",
        background: isSelected ? "".concat(theme.accent, "15") : "rgba(255,255,255,0.02)",
        border: isSelected ? "1px solid ".concat(theme.accent) : "1px solid rgba(255,255,255,0.04)",
        color: isFaded ? theme.dim : theme.text,
        padding: "1rem 1.2rem",
        borderRadius: "2px",
        fontSize: "0.93rem",
        lineHeight: 1.6,
        cursor: selected ? "default" : "pointer",
        fontFamily: "'Source Sans 3', sans-serif",
        transition: "all 0.4s ease",
        opacity: isFaded ? 0.3 : 1
      },
      onMouseOver: function onMouseOver(e) {
        if (!selected) {
          e.target.style.borderColor = "".concat(theme.accent, "44");
          e.target.style.background = "rgba(255,255,255,0.035)";
        }
      },
      onMouseOut: function onMouseOut(e) {
        if (!selected) {
          e.target.style.borderColor = "rgba(255,255,255,0.04)";
          e.target.style.background = "rgba(255,255,255,0.02)";
        }
      }
    }, resp.text));
  })));
}
function NarrativeReveal(_ref8) {
  var profile = _ref8.profile,
    tier = _ref8.tier,
    theme = _ref8.theme,
    onContinue = _ref8.onContinue;
  var narrativeData = tier === "deep" ? profile.tiers.deep : tier === "blended" ? {
    essence: profile.tiers.deep.essence,
    narrative: profile.tiers.moderate.narrative + "\n\n" + profile.tiers.deep.narrative.split("\n\n").slice(-2).join("\n\n")
  } : profile.tiers.moderate;
  var paragraphs = narrativeData.narrative.split("\n\n");
  return /*#__PURE__*/React.createElement("div", {
    style: {
      minHeight: "100vh",
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      padding: "2rem",
      maxWidth: "600px",
      margin: "0 auto"
    }
  }, /*#__PURE__*/React.createElement(FadeIn, {
    delay: 300
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.7rem",
      letterSpacing: "0.35em",
      textTransform: "uppercase",
      color: theme.accent,
      marginBottom: "1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "The Answer That's Been Running")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 700
  }, /*#__PURE__*/React.createElement("h2", {
    style: {
      fontSize: "clamp(2rem, 5vw, 3rem)",
      fontWeight: 300,
      color: theme.heading,
      margin: "0 0 0.5rem",
      fontFamily: "'Cormorant Garamond', serif",
      fontStyle: "italic"
    }
  }, profile.question)), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1000
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "1.02rem",
      color: theme.accent,
      marginBottom: "2rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, narrativeData.essence)), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1300
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      width: "40px",
      height: "1px",
      background: "linear-gradient(90deg, transparent, ".concat(theme.dim, ", transparent)"),
      marginBottom: "2rem"
    }
  })), paragraphs.map(function (p, i) {
    return /*#__PURE__*/React.createElement(FadeIn, {
      key: i,
      delay: 1500 + i * 350
    }, /*#__PURE__*/React.createElement("p", {
      style: {
        lineHeight: 1.85,
        color: theme.text,
        fontSize: "0.95rem",
        marginBottom: "1.2rem",
        fontFamily: "'Source Sans 3', sans-serif"
      }
    }, p));
  }), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1500 + paragraphs.length * 350 + 200
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      textAlign: "center",
      marginTop: "2rem"
    }
  }, /*#__PURE__*/React.createElement(Btn, {
    onClick: onContinue,
    color: theme.accent
  }, "See the Full Picture"))));
}
function LandscapeScreen(_ref9) {
  var scores = _ref9.scores,
    theme = _ref9.theme,
    onContinue = _ref9.onContinue;
  var sorted = Object.entries(scores).sort(function (a, b) {
    return b[1] - a[1];
  });
  var maxScore = sorted[0][1] || 1;
  var primaryKey = sorted[0][0];
  var secondaryKey = sorted[1][0];
  var tertiaryKey = sorted[2][0];
  var interweaveKey = "".concat(primaryKey, "-").concat(secondaryKey);
  var interweaveText = INTERWEAVE[interweaveKey] || "";
  var _useState9 = useState(false),
    _useState0 = _slicedToArray(_useState9, 2),
    barsVisible = _useState0[0],
    setBarsVisible = _useState0[1];
  useEffect(function () {
    var t = setTimeout(function () {
      return setBarsVisible(true);
    }, 800);
    return function () {
      return clearTimeout(t);
    };
  }, []);
  var barColors = {
    safety: {
      bar: "#a06050",
      glow: "rgba(160,96,80,0.15)"
    },
    love: {
      bar: "#8a7540",
      glow: "rgba(138,117,64,0.15)"
    },
    worth: {
      bar: "#6a80a0",
      glow: "rgba(106,128,160,0.15)"
    }
  };
  return /*#__PURE__*/React.createElement("div", {
    style: {
      minHeight: "100vh",
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      padding: "2rem",
      maxWidth: "580px",
      margin: "0 auto"
    }
  }, /*#__PURE__*/React.createElement(FadeIn, {
    delay: 200
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.7rem",
      letterSpacing: "0.35em",
      textTransform: "uppercase",
      color: theme.dim,
      marginBottom: "1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Your Landscape")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 500
  }, /*#__PURE__*/React.createElement("h2", {
    style: {
      fontSize: "clamp(1.5rem, 3.5vw, 2.2rem)",
      fontWeight: 300,
      color: theme.heading,
      margin: "0 0 0.6rem",
      fontFamily: "'Cormorant Garamond', serif"
    }
  }, "All Three Questions Are Running")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 700
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      lineHeight: 1.75,
      color: theme.text,
      fontSize: "0.93rem",
      marginBottom: "2rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "You answered all three questions \u2014 everyone does. One is loudest, but the others are still present, quietly reinforcing each other. Here's how yours showed up.")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 900
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      margin: "0 0 2rem",
      padding: "1.4rem 1.5rem",
      background: "rgba(255,255,255,0.015)",
      border: "1px solid rgba(255,255,255,0.04)",
      borderRadius: "2px"
    }
  }, sorted.map(function (_ref0, i) {
    var _ref1 = _slicedToArray(_ref0, 2),
      key = _ref1[0],
      score = _ref1[1];
    var pct = score / maxScore * 100;
    var colors = barColors[key];
    var isPrimary = i === 0;
    return /*#__PURE__*/React.createElement("div", {
      key: key,
      style: {
        marginBottom: i < 2 ? "1.1rem" : 0
      }
    }, /*#__PURE__*/React.createElement("div", {
      style: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "baseline",
        marginBottom: "0.35rem"
      }
    }, /*#__PURE__*/React.createElement("span", {
      style: {
        fontSize: isPrimary ? "0.88rem" : "0.8rem",
        fontFamily: "'Cormorant Garamond', serif",
        color: isPrimary ? colors.bar : "".concat(colors.bar, "99"),
        fontWeight: isPrimary ? 600 : 400,
        fontStyle: "italic"
      }
    }, Q_LABELS[key]), isPrimary && /*#__PURE__*/React.createElement("span", {
      style: {
        fontSize: "0.6rem",
        letterSpacing: "0.2em",
        textTransform: "uppercase",
        color: theme.dim,
        fontFamily: "'Source Sans 3', sans-serif"
      }
    }, "primary")), /*#__PURE__*/React.createElement("div", {
      style: {
        height: isPrimary ? "10px" : "7px",
        background: "rgba(255,255,255,0.03)",
        borderRadius: "5px",
        overflow: "hidden",
        position: "relative"
      }
    }, /*#__PURE__*/React.createElement("div", {
      style: {
        height: "100%",
        width: barsVisible ? "".concat(pct, "%") : "0%",
        background: "linear-gradient(90deg, ".concat(colors.bar, "88, ").concat(colors.bar, ")"),
        borderRadius: "5px",
        transition: "width 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) ".concat(i * 0.15, "s"),
        boxShadow: isPrimary ? "0 0 12px ".concat(colors.glow) : "none"
      }
    })));
  }))), interweaveText && /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1400
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      lineHeight: 1.85,
      color: theme.text,
      fontSize: "0.92rem",
      marginBottom: "2rem",
      fontFamily: "'Source Sans 3', sans-serif",
      borderLeft: "3px solid ".concat(barColors[primaryKey].bar, "30"),
      paddingLeft: "1.2rem"
    }
  }, interweaveText)), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1700
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.82rem",
      color: theme.dim,
      lineHeight: 1.7,
      marginBottom: "2rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, /*#__PURE__*/React.createElement("span", {
    style: {
      color: "".concat(barColors[tertiaryKey].bar, "88"),
      fontStyle: "italic"
    }
  }, Q_LABELS[tertiaryKey]), " showed up least in your responses \u2014 but \"least\" doesn't mean absent. It's running. It's just quieter right now than the others.")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1900
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      lineHeight: 1.75,
      color: theme.text,
      fontSize: "0.93rem",
      marginBottom: "2rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "What follows focuses on your primary answer \u2014 ", /*#__PURE__*/React.createElement("span", {
    style: {
      color: barColors[primaryKey].bar,
      fontFamily: "'Cormorant Garamond', serif",
      fontStyle: "italic"
    }
  }, Q_LABELS[primaryKey]), " \u2014 because that's where the pattern is strongest and the most can change. But the landscape is yours. All of it.")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 2100
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      textAlign: "center"
    }
  }, /*#__PURE__*/React.createElement(Btn, {
    onClick: onContinue,
    color: theme.accent
  }, "See How It Works"))));
}
function ArchitectureScreen(_ref10) {
  var profile = _ref10.profile,
    tier = _ref10.tier,
    theme = _ref10.theme,
    onContinue = _ref10.onContinue;
  var _useState1 = useState("child"),
    _useState10 = _slicedToArray(_useState1, 2),
    activeTab = _useState10[0],
    setActiveTab = _useState10[1];
  var tabs = [{
    key: "child",
    label: "Child",
    color: theme.child
  }, {
    key: "protector",
    label: "Protector",
    color: theme.protector
  }, {
    key: "adult",
    label: "Adult",
    color: theme.adult
  }];
  var mindsetTier = tier === "moderate" ? "moderate" : "deep";
  var current = profile.mindsets[activeTab][mindsetTier];
  var currentColor = tabs.find(function (t) {
    return t.key === activeTab;
  }).color;
  return /*#__PURE__*/React.createElement("div", {
    style: {
      minHeight: "100vh",
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      padding: "2rem",
      maxWidth: "620px",
      margin: "0 auto"
    }
  }, /*#__PURE__*/React.createElement(FadeIn, {
    delay: 200
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.7rem",
      letterSpacing: "0.35em",
      textTransform: "uppercase",
      color: theme.dim,
      marginBottom: "0.8rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Your Answer \u2014 Three Levels Deep"), /*#__PURE__*/React.createElement("h2", {
    style: {
      fontSize: "clamp(1.5rem, 3.5vw, 2.2rem)",
      fontWeight: 300,
      color: theme.heading,
      margin: "0 0 0.8rem",
      fontFamily: "'Cormorant Garamond', serif"
    }
  }, "How ", /*#__PURE__*/React.createElement("span", {
    style: {
      fontStyle: "italic",
      color: theme.accent
    }
  }, profile.question.replace("?", "")), " plays out"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.9rem",
      color: theme.text,
      lineHeight: 1.7,
      marginBottom: "1.5rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Every answer operates at three levels \u2014 the original response that got installed (", /*#__PURE__*/React.createElement("span", {
    style: {
      color: theme.child
    }
  }, "Child"), "), the strategy built around it (", /*#__PURE__*/React.createElement("span", {
    style: {
      color: theme.protector
    }
  }, "Protector"), "), and what becomes possible when you can see both clearly (", /*#__PURE__*/React.createElement("span", {
    style: {
      color: theme.adult
    }
  }, "Adult"), ").")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 500
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      display: "flex",
      marginBottom: "2rem",
      borderBottom: "1px solid rgba(255,255,255,0.04)"
    }
  }, tabs.map(function (tab) {
    return /*#__PURE__*/React.createElement("button", {
      key: tab.key,
      onClick: function onClick() {
        return setActiveTab(tab.key);
      },
      style: {
        flex: 1,
        padding: "0.85rem 0",
        background: "transparent",
        border: "none",
        color: activeTab === tab.key ? tab.color : theme.dim,
        fontSize: "0.78rem",
        letterSpacing: "0.15em",
        textTransform: "uppercase",
        cursor: "pointer",
        fontFamily: "'Source Sans 3', sans-serif",
        borderBottom: activeTab === tab.key ? "2px solid ".concat(tab.color) : "2px solid transparent",
        transition: "all 0.3s ease",
        marginBottom: "-1px"
      }
    }, tab.label);
  }))), /*#__PURE__*/React.createElement("div", {
    key: activeTab,
    style: {
      animation: "fadeIn 0.5s ease"
    }
  }, /*#__PURE__*/React.createElement(FadeIn, {
    delay: 0
  }, /*#__PURE__*/React.createElement("h3", {
    style: {
      fontSize: "1.2rem",
      fontWeight: 400,
      color: currentColor,
      margin: "0 0 0.5rem",
      fontFamily: "'Cormorant Garamond', serif"
    }
  }, current.label), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.92rem",
      color: theme.text,
      lineHeight: 1.7,
      marginBottom: "1.5rem",
      fontFamily: "'Source Sans 3', sans-serif",
      fontStyle: "italic"
    }
  }, current.description)), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 200
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      background: "rgba(255,255,255,0.015)",
      border: "1px solid ".concat(currentColor, "18"),
      padding: "1.2rem",
      borderRadius: "2px",
      marginBottom: "1.5rem",
      borderLeft: "3px solid ".concat(currentColor, "40")
    }
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.9rem",
      color: theme.text,
      lineHeight: 1.75,
      margin: 0,
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, current.example))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 400
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.9rem",
      color: theme.dim,
      lineHeight: 1.75,
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, current.pattern))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 600
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      textAlign: "center",
      marginTop: "2.5rem"
    }
  }, /*#__PURE__*/React.createElement(Btn, {
    onClick: onContinue,
    color: theme.accent
  }, "See the Full Arc"))));
}
function InvitationScreen(_ref11) {
  var profile = _ref11.profile,
    scores = _ref11.scores,
    tier = _ref11.tier,
    selectedFlavors = _ref11.selectedFlavors,
    theme = _ref11.theme,
    onRestart = _ref11.onRestart;
  var sortedQ = Object.entries(scores).sort(function (a, b) {
    return b[1] - a[1];
  });
  var dominantKey = sortedQ[0][0];
  var secondary = QUESTION_PROFILES[sortedQ[1] && sortedQ[1][0]] || null;

  // Get arc data for this question and tier
  var arcTier = tier === "moderate" ? "moderate" : "deep";
  var arc = ARC_DATA[dominantKey][arcTier];

  // Select appropriate inverse actions based on tier and flavors
  var actionPool = tier === "moderate" ? profile.inverseActions.moderate : [].concat(_toConsumableArray(profile.inverseActions.deep), _toConsumableArray(profile.inverseActions.moderate));
  var matched = actionPool.filter(function (ia) {
    return ia.flavors.some(function (f) {
      return selectedFlavors.includes(f);
    });
  });
  var seen = new Set();
  var unique = (matched.length > 0 ? matched : [actionPool[0]]).filter(function (a) {
    if (seen.has(a.label)) return false;
    seen.add(a.label);
    return true;
  });
  var _useState11 = useState(0),
    _useState12 = _slicedToArray(_useState11, 2),
    activeAction = _useState12[0],
    setActiveAction = _useState12[1];
  var _useState13 = useState(0),
    _useState14 = _slicedToArray(_useState13, 2),
    revealStage = _useState14[0],
    setRevealStage = _useState14[1];
  var _useState15 = useState(false),
    _useState16 = _slicedToArray(_useState15, 2),
    arcExpanded = _useState16[0],
    setArcExpanded = _useState16[1];
  var current = unique[activeAction] || unique[0];
  return /*#__PURE__*/React.createElement("div", {
    style: {
      minHeight: "100vh",
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      padding: "2rem",
      maxWidth: "640px",
      margin: "0 auto"
    }
  }, /*#__PURE__*/React.createElement(FadeIn, {
    delay: 200
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.7rem",
      letterSpacing: "0.35em",
      textTransform: "uppercase",
      color: theme.dim,
      marginBottom: "1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "The Full Arc")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 500
  }, /*#__PURE__*/React.createElement("h2", {
    style: {
      fontSize: "clamp(1.5rem, 3.8vw, 2.3rem)",
      fontWeight: 300,
      color: theme.heading,
      margin: "0 0 0.8rem",
      fontFamily: "'Cormorant Garamond', serif"
    }
  }, "From What Got Installed", /*#__PURE__*/React.createElement("br", null), "to ", /*#__PURE__*/React.createElement("span", {
    style: {
      color: theme.adult
    }
  }, "What Becomes Possible"))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 700
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      lineHeight: 1.8,
      color: theme.text,
      fontSize: "0.93rem",
      marginBottom: "2rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Every protective architecture follows the same path. A child's truth gets installed. A Protector builds around it. And an Adult \u2014 when the conditions are right \u2014 walks through the door the Protector was guarding. Here's your path.")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1000
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      position: "relative",
      padding: "1.3rem 1.4rem",
      marginBottom: "0.5rem",
      borderRadius: "2px",
      background: "".concat(theme.child, "08"),
      borderLeft: "4px solid ".concat(theme.child, "55")
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.65rem",
      letterSpacing: "0.25em",
      textTransform: "uppercase",
      color: theme.child,
      marginBottom: "0.5rem",
      fontFamily: "'Source Sans 3', sans-serif",
      fontWeight: 600
    }
  }, "What the Child Learned"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.95rem",
      color: theme.heading,
      lineHeight: 1.7,
      margin: 0,
      fontFamily: "'Cormorant Garamond', serif",
      fontStyle: "italic"
    }
  }, "\"", arc.childTruth, "\""))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1200
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      display: "flex",
      justifyContent: "center",
      padding: "0.2rem 0"
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      width: "1px",
      height: "24px",
      background: "linear-gradient(".concat(theme.child, "55, ").concat(theme.protector, "55)")
    }
  }))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1400
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      position: "relative",
      padding: "1.3rem 1.4rem",
      marginBottom: "0.5rem",
      borderRadius: "2px",
      background: "".concat(theme.protector, "08"),
      borderLeft: "4px solid ".concat(theme.protector, "55")
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.65rem",
      letterSpacing: "0.25em",
      textTransform: "uppercase",
      color: theme.protector,
      marginBottom: "0.5rem",
      fontFamily: "'Source Sans 3', sans-serif",
      fontWeight: 600
    }
  }, "What the Protector Built"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.93rem",
      color: theme.text,
      lineHeight: 1.75,
      margin: 0,
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, arc.protectorStrategy))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1600
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      display: "flex",
      justifyContent: "center",
      padding: "0.2rem 0"
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      width: "1px",
      height: "24px",
      background: "linear-gradient(".concat(theme.protector, "55, ").concat(theme.adult, "55)")
    }
  }))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 1800
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      position: "relative",
      padding: "1.3rem 1.4rem",
      marginBottom: "0.3rem",
      borderRadius: "2px",
      background: "".concat(theme.adult, "0A"),
      borderLeft: "4px solid ".concat(theme.adult, "66")
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.65rem",
      letterSpacing: "0.25em",
      textTransform: "uppercase",
      color: theme.adult,
      marginBottom: "0.5rem",
      fontFamily: "'Source Sans 3', sans-serif",
      fontWeight: 600
    }
  }, "What the Adult Arrives At"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.93rem",
      color: theme.text,
      lineHeight: 1.8,
      margin: 0,
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, arc.adultArrival))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 2100
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      padding: "1.2rem 1.4rem",
      marginBottom: "2.5rem",
      borderRadius: "2px",
      background: "".concat(theme.adult, "06"),
      borderLeft: "4px solid ".concat(theme.adult, "33")
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.65rem",
      letterSpacing: "0.25em",
      textTransform: "uppercase",
      color: theme.adult,
      marginBottom: "0.5rem",
      fontFamily: "'Source Sans 3', sans-serif",
      opacity: 0.7
    }
  }, "What That Looks Like in Practice"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.92rem",
      color: theme.adult,
      lineHeight: 1.8,
      margin: 0,
      fontFamily: "'Source Sans 3', sans-serif",
      fontStyle: "italic"
    }
  }, arc.adultVision))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 2400
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      textAlign: "center",
      marginBottom: "1rem"
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      width: "40px",
      height: "1px",
      background: "linear-gradient(90deg, transparent, ".concat(theme.accent, ", transparent)"),
      margin: "0 auto 1.5rem"
    }
  }), /*#__PURE__*/React.createElement("h3", {
    style: {
      fontSize: "clamp(1.2rem, 3vw, 1.7rem)",
      fontWeight: 300,
      color: theme.heading,
      margin: "0 0 0.8rem",
      fontFamily: "'Cormorant Garamond', serif"
    }
  }, "Testing the Old Answer"), /*#__PURE__*/React.createElement("p", {
    style: {
      lineHeight: 1.8,
      color: theme.text,
      fontSize: "0.92rem",
      maxWidth: "520px",
      margin: "0 auto 1.5rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Your Protector believes this answer is permanent \u2014 that the world is still the place that installed it. But an answer drawn by a child from incomplete evidence can be tested. Not with willpower. With experience. By making the move the old answer says is impossible \u2014 and discovering, through direct experience, what's actually true now."))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 2700
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      margin: "0.5rem 0 1.5rem",
      padding: "1.4rem",
      borderRadius: "2px",
      background: "rgba(255,255,255,0.015)",
      border: "1px solid rgba(255,255,255,0.04)"
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.66rem",
      letterSpacing: "0.3em",
      textTransform: "uppercase",
      color: theme.dim,
      marginBottom: "1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "The Move Your Old Answer Says You Can't Make"), unique.length > 1 && /*#__PURE__*/React.createElement("div", {
    style: {
      display: "flex",
      gap: "0.4rem",
      marginBottom: "1.2rem",
      flexWrap: "wrap"
    }
  }, unique.map(function (a, i) {
    return /*#__PURE__*/React.createElement("button", {
      key: i,
      onClick: function onClick() {
        setActiveAction(i);
        setRevealStage(0);
      },
      style: {
        background: activeAction === i ? "".concat(theme.adult, "18") : "rgba(255,255,255,0.02)",
        border: activeAction === i ? "1px solid ".concat(theme.adult, "44") : "1px solid rgba(255,255,255,0.04)",
        color: activeAction === i ? theme.adult : theme.dim,
        padding: "0.45rem 0.8rem",
        borderRadius: "2px",
        fontSize: "0.74rem",
        letterSpacing: "0.08em",
        cursor: "pointer",
        fontFamily: "'Source Sans 3', sans-serif",
        transition: "all 0.3s ease"
      }
    }, a.label);
  })), /*#__PURE__*/React.createElement("div", {
    key: "".concat(activeAction)
  }, unique.length === 1 && /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.88rem",
      color: theme.accent,
      marginBottom: "0.7rem",
      fontFamily: "'Source Sans 3', sans-serif",
      fontWeight: 500
    }
  }, current.label), /*#__PURE__*/React.createElement("p", {
    style: {
      lineHeight: 1.75,
      color: theme.text,
      fontSize: "0.9rem",
      marginBottom: "1.1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, current.setup), /*#__PURE__*/React.createElement("div", {
    style: {
      background: "".concat(theme.protector, "0C"),
      borderLeft: "3px solid ".concat(theme.protector, "33"),
      padding: "0.9rem 1.1rem",
      marginBottom: "0.8rem",
      borderRadius: "0 2px 2px 0",
      opacity: revealStage >= 1 ? 0.5 : 1,
      transition: "opacity 0.6s ease"
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.65rem",
      letterSpacing: "0.2em",
      textTransform: "uppercase",
      color: theme.protector,
      marginBottom: "0.3rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Your Protector Says"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.9rem",
      color: theme.text,
      lineHeight: 1.65,
      margin: 0,
      fontFamily: "'Source Sans 3', sans-serif",
      fontStyle: "italic"
    }
  }, "\"", current.protectorSays, "\"")), revealStage === 0 && /*#__PURE__*/React.createElement("div", {
    style: {
      textAlign: "center",
      marginTop: "1rem"
    }
  }, /*#__PURE__*/React.createElement(Btn, {
    onClick: function onClick() {
      return setRevealStage(1);
    },
    color: theme.adult
  }, "What does testing it look like?")), revealStage >= 1 && /*#__PURE__*/React.createElement("div", {
    style: {
      background: "".concat(theme.adult, "0C"),
      borderLeft: "3px solid ".concat(theme.adult, "33"),
      padding: "0.9rem 1.1rem",
      marginBottom: "0.8rem",
      borderRadius: "0 2px 2px 0",
      animation: "fadeIn 0.6s ease"
    }
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      fontSize: "0.65rem",
      letterSpacing: "0.2em",
      textTransform: "uppercase",
      color: theme.adult,
      marginBottom: "0.3rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "The Test"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.9rem",
      color: theme.text,
      lineHeight: 1.65,
      margin: 0,
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, current.inverseMove)), revealStage === 1 && /*#__PURE__*/React.createElement("div", {
    style: {
      textAlign: "center",
      marginTop: "1rem"
    }
  }, /*#__PURE__*/React.createElement(Btn, {
    onClick: function onClick() {
      return setRevealStage(2);
    },
    color: theme.adult
  }, "What actually happens?")), revealStage >= 2 && /*#__PURE__*/React.createElement("div", {
    style: {
      animation: "fadeIn 0.6s ease"
    }
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.88rem",
      color: theme.text,
      lineHeight: 1.75,
      marginBottom: "0.8rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, current.whatHappens), /*#__PURE__*/React.createElement("div", {
    style: {
      background: "".concat(theme.accent, "08"),
      border: "1px solid ".concat(theme.accent, "18"),
      padding: "0.85rem 1rem",
      borderRadius: "2px"
    }
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.86rem",
      color: theme.accent,
      lineHeight: 1.7,
      margin: 0,
      fontFamily: "'Source Sans 3', sans-serif",
      fontStyle: "italic"
    }
  }, current.principle)))))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 3000
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      background: "linear-gradient(135deg, ".concat(theme.adult, "0A 0%, ").concat(theme.accent, "08 100%)"),
      border: "1px solid ".concat(theme.adult, "22"),
      padding: "1.8rem 1.6rem",
      borderRadius: "2px",
      margin: "0.5rem 0 1.5rem"
    }
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "1.1rem",
      color: theme.heading,
      lineHeight: 1.7,
      margin: "0 0 1rem",
      fontFamily: "'Cormorant Garamond', serif",
      fontStyle: "italic",
      textAlign: "center"
    }
  }, "Before you go \u2014 a word about what you just did."), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.93rem",
      color: theme.text,
      lineHeight: 1.85,
      margin: "0 0 1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "The architecture you've been looking at wasn't built by accident. It was built by a younger version of you who faced something difficult and found a way through it. That took intelligence. It took creativity. And it took a kind of courage that doesn't get recognized often enough \u2014 the courage of a person who, without resources or instruction, figured out how to survive."), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.93rem",
      color: theme.text,
      lineHeight: 1.85,
      margin: "0 0 1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Whatever you're carrying \u2014 however heavy or quiet it is \u2014 it's not evidence of something broken. It's evidence of something that worked. The strategies got you here. That matters. And now that you can see them, you have something you didn't have before: the option to keep what still serves you and gently set down what doesn't."), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.93rem",
      color: theme.text,
      lineHeight: 1.85,
      margin: "0 0 1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "That's not a small thing. That's the beginning of everything."), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.95rem",
      color: theme.adult,
      lineHeight: 1.85,
      margin: 0,
      fontFamily: "'Source Sans 3', sans-serif",
      fontStyle: "italic",
      textAlign: "center"
    }
  }, "The answer doesn't have to keep running you. Once you can see it clearly, it begins to let go on its own."))), secondary && /*#__PURE__*/React.createElement(FadeIn, {
    delay: 3200
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.82rem",
      color: theme.dim,
      lineHeight: 1.7,
      fontFamily: "'Source Sans 3', sans-serif",
      marginBottom: "1rem"
    }
  }, "Your primary answer is ", /*#__PURE__*/React.createElement("strong", {
    style: {
      color: theme.accent
    }
  }, profile.question), ", but ", /*#__PURE__*/React.createElement("strong", {
    style: {
      color: theme.accent
    }
  }, secondary.question), " also showed up. The answers interweave \u2014 each reinforcing the other, each with its own pattern and its own path to change.")), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 3400
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      padding: "1.5rem 1.5rem",
      borderRadius: "2px",
      margin: "0.5rem 0 1.5rem",
      textAlign: "center",
      background: "rgba(255,255,255,0.015)",
      border: "1px solid ".concat(theme.accent, "22")
    }
  }, /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.95rem",
      color: theme.heading,
      lineHeight: 1.75,
      margin: "0 0 1rem",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "If what you found here moved from interesting to personal \u2014 if you recognized yourself in these patterns and want to explore what the arc from Protector to Adult actually looks like with guidance \u2014 we'd welcome the conversation."), /*#__PURE__*/React.createElement("a", {
    href: "https://www.silverrivercounseling.com",
    target: "_blank",
    rel: "noopener noreferrer",
    style: {
      display: "inline-block",
      padding: "0.8rem 2.4rem",
      fontSize: "0.8rem",
      letterSpacing: "0.2em",
      textTransform: "uppercase",
      textDecoration: "none",
      fontFamily: "'Source Sans 3', sans-serif",
      color: theme.adult,
      border: "1px solid ".concat(theme.adult, "66"),
      borderRadius: "2px",
      transition: "all 0.3s ease",
      cursor: "pointer"
    },
    onMouseOver: function onMouseOver(e) {
      e.target.style.background = "".concat(theme.adult, "0D");
      e.target.style.borderColor = theme.adult;
    },
    onMouseOut: function onMouseOut(e) {
      e.target.style.background = "transparent";
      e.target.style.borderColor = "".concat(theme.adult, "66");
    }
  }, "Silver River Counseling"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.82rem",
      color: theme.dim,
      lineHeight: 1.6,
      margin: "0.8rem 0 0",
      fontFamily: "'Source Sans 3', sans-serif"
    }
  }, "Intensive therapy retreats for individuals and couples"))), /*#__PURE__*/React.createElement(FadeIn, {
    delay: 3600
  }, /*#__PURE__*/React.createElement("div", {
    style: {
      display: "flex",
      flexDirection: "column",
      alignItems: "center",
      gap: "1rem",
      marginTop: "1rem"
    }
  }, /*#__PURE__*/React.createElement(Btn, {
    onClick: onRestart,
    color: theme.accent
  }, "Begin Again"), /*#__PURE__*/React.createElement("p", {
    style: {
      fontSize: "0.72rem",
      color: theme.dim,
      maxWidth: "420px",
      lineHeight: 1.6,
      fontFamily: "'Source Sans 3', sans-serif",
      textAlign: "center"
    }
  }, "For informational and educational purposes only. This experience is not therapy, diagnosis, or clinical assessment. Based on the Relational Mindset Model developed by Brent P. Mruz, Psy.D."))));
}

/* ═══════════════════════════════════════════
   MAIN APP
   ═══════════════════════════════════════════ */

function InnerArchitectureUnified() {
  var _useState17 = useState("landing"),
    _useState18 = _slicedToArray(_useState17, 2),
    phase = _useState18[0],
    setPhase = _useState18[1];
  var _useState19 = useState(0),
    _useState20 = _slicedToArray(_useState19, 2),
    scenarioIndex = _useState20[0],
    setScenarioIndex = _useState20[1];
  var _useState21 = useState({
      safety: 0,
      love: 0,
      worth: 0
    }),
    _useState22 = _slicedToArray(_useState21, 2),
    scores = _useState22[0],
    setScores = _useState22[1];
  var _useState23 = useState([]),
    _useState24 = _slicedToArray(_useState23, 2),
    intensities = _useState24[0],
    setIntensities = _useState24[1];
  var _useState25 = useState([]),
    _useState26 = _slicedToArray(_useState25, 2),
    selectedFlavors = _useState26[0],
    setSelectedFlavors = _useState26[1];
  var _useState27 = useState([]),
    _useState28 = _slicedToArray(_useState27, 2),
    responseHistory = _useState28[0],
    setResponseHistory = _useState28[1];
  var containerRef = useRef(null);
  var scrollToTop = function scrollToTop() {
    if (containerRef.current) containerRef.current.scrollTo({
      top: 0,
      behavior: "smooth"
    });
  };
  var avgIntensity = intensities.length > 0 ? intensities.reduce(function (a, b) {
    return a + b;
  }, 0) / intensities.length : 0;
  var tier = getIntensityTier(avgIntensity);
  var theme = useTheme(avgIntensity);
  var getDominantQuestion = function getDominantQuestion() {
    var sorted = Object.entries(scores).sort(function (a, b) {
      return b[1] - a[1];
    });
    return sorted[0][0];
  };
  var handleScenarioSelect = function handleScenarioSelect(resp) {
    setResponseHistory(function (prev) {
      return [].concat(_toConsumableArray(prev), [resp]);
    });
    setScores(function (prev) {
      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, resp.question, prev[resp.question] + resp.weight));
    });
    setIntensities(function (prev) {
      return [].concat(_toConsumableArray(prev), [resp.intensity]);
    });
    if (resp.flavor) setSelectedFlavors(function (prev) {
      return [].concat(_toConsumableArray(prev), [resp.flavor]);
    });
    if (scenarioIndex < SCENARIOS.length - 1) {
      setTimeout(function () {
        setScenarioIndex(scenarioIndex + 1);
        scrollToTop();
      }, 200);
    } else {
      setTimeout(function () {
        setPhase("narrativeReveal");
        scrollToTop();
      }, 400);
    }
  };
  var handleScenarioBack = function handleScenarioBack() {
    if (scenarioIndex <= 0) return;
    var lastResp = responseHistory[responseHistory.length - 1];
    if (lastResp) {
      setScores(function (prev) {
        return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, lastResp.question, prev[lastResp.question] - lastResp.weight));
      });
      setIntensities(function (prev) {
        return prev.slice(0, -1);
      });
      if (lastResp.flavor) setSelectedFlavors(function (prev) {
        var i = prev.lastIndexOf(lastResp.flavor);
        return i >= 0 ? [].concat(_toConsumableArray(prev.slice(0, i)), _toConsumableArray(prev.slice(i + 1))) : prev;
      });
      setResponseHistory(function (prev) {
        return prev.slice(0, -1);
      });
    }
    setScenarioIndex(scenarioIndex - 1);
    scrollToTop();
  };
  var handleRestart = function handleRestart() {
    setScores({
      safety: 0,
      love: 0,
      worth: 0
    });
    setIntensities([]);
    setSelectedFlavors([]);
    setResponseHistory([]);
    setScenarioIndex(0);
    setPhase("landing");
    scrollToTop();
  };
  var profile = QUESTION_PROFILES[getDominantQuestion()];
  return /*#__PURE__*/React.createElement("div", {
    ref: containerRef,
    style: {
      minHeight: "100vh",
      background: "linear-gradient(170deg, ".concat(theme.bg1, " 0%, ").concat(theme.bg2, " 40%, ").concat(theme.bg1, " 100%)"),
      color: theme.text,
      fontFamily: "'Source Sans 3', sans-serif",
      overflowY: "auto",
      position: "relative"
    }
  }, /*#__PURE__*/React.createElement("style", null, "\n        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Source+Sans+3:wght@300;400;500;600&display=swap');\n        * { box-sizing: border-box; margin: 0; padding: 0; }\n        body { margin: 0; background: #0d0c0a; }\n        ::selection { background: rgba(160,130,100,0.3); color: #e0d5c5; }\n        @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }\n        button:focus { outline: 1px solid ".concat(theme.accent, "88; outline-offset: 2px; }\n        ::-webkit-scrollbar { width: 3px; }\n        ::-webkit-scrollbar-track { background: transparent; }\n        ::-webkit-scrollbar-thumb { background: ").concat(theme.accent, "25; border-radius: 2px; }\n      ")), /*#__PURE__*/React.createElement("div", {
    style: {
      position: "fixed",
      top: 0,
      left: 0,
      right: 0,
      bottom: 0,
      backgroundImage: "radial-gradient(circle at 25% 75%, ".concat(theme.accent, "05 0%, transparent 50%)"),
      pointerEvents: "none"
    }
  }), /*#__PURE__*/React.createElement("div", {
    style: {
      position: "relative",
      zIndex: 1
    }
  }, phase === "landing" && /*#__PURE__*/React.createElement(LandingScreen, {
    onBegin: function onBegin() {
      setPhase("discoveryIntro");
      scrollToTop();
    },
    theme: theme
  }), phase === "discoveryIntro" && /*#__PURE__*/React.createElement(PhaseIntro, {
    phase: "discovery",
    onContinue: function onContinue() {
      setPhase("scenarios");
      scrollToTop();
    },
    theme: theme,
    tier: tier
  }), phase === "scenarios" && /*#__PURE__*/React.createElement(ScenarioScreen, {
    scenario: SCENARIOS[scenarioIndex],
    index: scenarioIndex,
    total: SCENARIOS.length,
    onSelect: handleScenarioSelect,
    onBack: handleScenarioBack,
    theme: theme
  }), phase === "narrativeReveal" && /*#__PURE__*/React.createElement(NarrativeReveal, {
    profile: profile,
    tier: tier,
    theme: theme,
    onContinue: function onContinue() {
      setPhase("landscape");
      scrollToTop();
    }
  }), phase === "landscape" && /*#__PURE__*/React.createElement(LandscapeScreen, {
    scores: scores,
    theme: theme,
    onContinue: function onContinue() {
      setPhase("architecture");
      scrollToTop();
    }
  }), phase === "architecture" && /*#__PURE__*/React.createElement(ArchitectureScreen, {
    profile: profile,
    tier: tier,
    theme: theme,
    onContinue: function onContinue() {
      setPhase("invitation");
      scrollToTop();
    }
  }), phase === "invitation" && /*#__PURE__*/React.createElement(InvitationScreen, {
    profile: profile,
    scores: scores,
    tier: tier,
    selectedFlavors: selectedFlavors,
    theme: theme,
    onRestart: handleRestart
  })));
}
var root = ReactDOM.createRoot(document.getElementById("root"));
root.render(React.createElement(InnerArchitectureUnified));
  </script>
</body>
</html>
